<?xml version="1.0"?>
<?xml-stylesheet href="changes.xsl" type="text/xsl"?>

<!--$Id: CHANGES.xml 14061 2010-10-05 08:56:50Z rb $        Joacim Zschimmer, Zschimmer GmbH, http://www.zschimmer.com -->

<changes title    = "Änderungsprotokoll"
         author   = "$Author: rb $"
         date     = "$Date: 2010-10-05 10:56:50 +0200 (Tue, 05 Oct 2010) $">

  <scheduler_keyword keyword="Änderungsprotokoll"/>
  <scheduler_keyword keyword="Change log"/>

  <change date="2010-10-05" version="2.1.3" subversion_revision="6332" >
    <revision jira="JS-448" type="correction" title="warn_if_longer_than Attribut korrekt verarbeiten">
      <description>
      Die Warnung, dass eine Task länger als geplant läuft (warn_if_longer_than Attribut),
      dann als Mail absenden, wenn der Zeitpunkt erreicht und nicht erst am Ende der Task. 
      Außerdem Behandlung der Angabe in Prozent korrigiert (s. Jira-Eintrag).
      </description>
    </revision>
  </change>

  <change date="2010-09-29" version="2.1.3" subversion_revision="6321" >
    <revision jira="JS-544" type="correction" title="Port for SMTP Mail-Server cannot be configure">
      <description>
        Ist die Eigenschaft smtp sowohl in sos.ini ([mail].smtp) als auch in factory.ini [spooler].smtp leer
        oder nicht angegeben, wird die Einstellung in factory.ini [smtp]mail.smtp.host gelöscht.
        In der Dokumentation zu factory.ini [smtp] ist ein Hinweis auf die Möglichkeit den SMPT Port einzustellen, aufgenommen worden.
      </description>
    </revision>
  </change>

  <change date="2010-09-27" version="2.1.3" subversion_revision="6308" >
    <revision jira="JS-456" type="correction" title="An persistent order with single start far in the future will be deleted, wenn an error occurs">
      <description>
        Hat ein Job eine Periode, der Job-Scheduler startet vor Periodenbeginn und es befinden sich zum Start
        im Fileorders-Verzeichnis Dateien, dann wurden dafür keine Aufräge erzeugt.
      </description>
    </revision>
  </change>

  <change date="2010-09-22" version="2.1.3" subversion_revision="6299" >
    <revision jira="JS-463" type="correction" title="Fileorders will not be handled when the first job in job chain has a period">
      <description>
        Hat ein Job eine Periode, der Job-Scheduler startet vor Periodenbeginn und es befinden sich zum Start
        im Fileorders-Verzeichnis Dateien, dann wurden dafür keine Aufräge erzeugt.
      </description>
    </revision>
  </change>
    
  <change date="2010-09-27" version="2.1.3" subversion_revision="6308" >
    <revision jira="JS-551" type="new" title="Inaktivieren von Jobs">
      <description>
        Das Job-Element der XML Konfiguration hat ein neues Attribut "enabled". Es kann die Werte yes, no annehmen.
        Der Wert "no" bewirkt, dass intern der Job gestoppt wird. Die XML-Antwort enthält auch dieses Attribut und
        ermöglicht es dem Operations GUI diesen Job-Status abweichend vom gestoppt-Status entsprechend darzustellen.
      </description>
    </revision>
  </change>

  <change date="2010-09-23" version="2.1.3" subversion_revision="6304" >
      <revision jira="JS-552" type="correction" title="Aufträge im Status suspended sollen bei Änderung der Konfiguration nicht in Status resumed wechseln">
        <description>
				Aufträge im Status suspended sollen dort bleiben, auch wenn die Konfigurationsdatei geändert wird.
        </description>
      </revision>
    </change> 

    <change date="2010-09-23" version="2.1.3" >
      <revision jira="JS-474" type="correction" title="Aufräge verhalten sich wie Standalone-Jobs bzgl. Runtimes/Perioden">
        <description>
        Eine leere Runtime oder eine leere Periode (keine repeat und kein single_start Attribut) bewirkt nicht mehr
        einen automatischen start des Auftrags. Ist eine solche Runtimes/Periode zum start eines Auftrags genutzt worden,
        müssen diese Runtimes umkonfiguriert werden. Eine Lösung ist das single_start Attribut zu verwenden.
        </description>
      </revision>
    </change> 

    <change date="2010-09-21" version="2.1.3" subversion_revision="6295" >
      <revision jira="JS-425" type="correction" title=" Im Fehlerfall werden jetzt nur noch mails versendet, wenn mail_on_error=yes gesetzt ist">
        <description>
        Bei Auftreten eines Fehlers werden jetzt nur noch Mail versendet, wenn <i>mail_on_error=yes</i> gesetzt ist. Ein implizites Setzen von
        <i>mail_on_error</i> durch die Angabe von <i>mail_on_warn=yes</i> findet nicht mehr statt.
        </description>
      </revision>
    </change> 

    <change date="2010-09-21" version="2.1.3" subversion_revision="6295" >
      <revision jira="JS-425" type="correction" title=" Im Fehlerfall werden jetzt nur noch mails versendet, wenn mail_on_error=yes gesetzt ist">
        <description>
        Bei Auftreten eines Fehlers werden jetzt nur noch Mail versendet, wenn <i>mail_on_error=yes</i> gesetzt ist. Ein implizites Setzen von
        <i>mail_on_error</i> durch die Angabe von <i>mail_on_warn=yes</i> findet nicht mehr statt.
        </description>
      </revision>
    </change> 

    <change date="2010-09-02" version="2.1.3" subversion_revision="6269" >
      <revision jira="JS-563" type="correction" title="exit_code ist jetzt in spooler_task_after abrufbar">
        <description>
          Über spooler_task-after() ist jetzt der exit_code von spooler_process() abrufbar. Eine Abfrage des exit_code in spooler_process_after()
          ist nicht möglich, da die task in dieser Stelle noch nicht beendet ist und der exit_code damit zu diesem Zeitpunkt noch nicht zur Verfügung
          steht.

          Der in spooler_process() gesetzte exit_code kann überschrieben in zurückgesetzt werden.
        </description>
      </revision>
    </change> 

    <change date="2010-08-27" version="2.1.3" >
      <revision jira="JS-559" type="new" title="Der JobScheduler kann jetzt als Agent fungieren">
        <description>
					Durch die Verwendung eines speziellen Lizenzschlüssels ist es möglich, den JobScheduler als Agenten zu betreiben. Er kann in dieser 
					Funktion keine eigenen Jobs starten, sondern nimmt lediglich Aufträge von remote schedulern entgegen.
        </description>
      </revision>
    </change> 

    <change date="2010-08-11" version="2.1.2" >
      <revision jira="JS-540" type="new" title="Weitere script-Attribute für Java API-Jobs">
        <description>
					Das script-Element hat ein weiteres Atribute 'java_class_path' (s. Dokumentation). Es wird dem aktuellen Klassenpfad davorgesetzt.
                    Die aktuellen Werte für den Java Klassenpfad und die Java VM Options werden im Task-Log ausgegeben.
        </description>
      </revision>
    </change> 

    <change date="2010-07-29" version="2.1.2" >
      <revision jira="JS-550" type="correction" title="on_exit_code 'error' wird korrekt ausgewertet">
        <description>
           Wenn on_exit_code 'error' ist, werden die Kommandos nur dann ausgeführt, wenn der OS Exit Code ungleich 0 ist.
           Bisher sind die Kommandos immer ausgeführt worden.
        </description>
      </revision>
    </change> 
  
    <change date="2010-07-29" version="2.1.2">
      <revision jira="JS-436" type="correction" title="Job der ausserhalb der Periode endet erhält jetzt die korrekte Startzeit">
        <description>
        Auch wenn ein Job über das Ende einer Periode hinaus läuft, erhält er jetzt die korrekte nächste Startzeit (nämlich den Beginn der nächsten Periode).
        </description>
      </revision>
    </change>
    
    <change date="2010-07-07" version="2.1.2" subversion_revision="6164">
      <revision jira="JS-538" type="new" title="Neues Attribut max_orders steuert den Parallellauf von Jobketten">
        <description>
          Für das Element job_chain wurde das Attribut max_orders eingeführt. Es bestimmt, wie viele Orders parallel diese Jobkette ausführen können. Fehlt dieses
          Attribut können es beliebig viele sein. max_orders="1" führt die gesamte Jobkette exklusiv für eine Order aus, bevor die nächste Order für diese Jobkette
          starten kann.  
        </description>
      </revision>
    </change>

    <change date="2010-06-22" version="2.1.1" subversion_revision="6132">
      <revision jira="JS-462" type="new" title="Die Kommandozeilenoption configuration-directory (live folder) steht zur Verfügung wie dokumentiert">
        <description>
          Das live Verzeichnis kann mit der Kommandozeilenoption configuration-directory angegeben werden.
        </description>
      </revision>
    </change>
  
    <change date="2010-05-28" version="2.1.1" subversion_revision="6103">
        <revision jira="JS-506" type="modification" title="Kommando &lt;show_state what='folders no_subfolder'&gt; zeigt Namen der Unterordner.">
            <description>
	            Das Kommando &lt;show_state what='folders no_subfolder'&gt; liefert die Namen der Unterordner, aber nicht deren Inhalte.
            </description>
        </revision>
    </change>

		<change date="2010-05-07" version="2.1.1" subversion_revision="6101">
        <revision jira="JS-343" type="correction" title="Die Angabe von @absolute_repeat berücksichtigt jetzt auch die erste Startzeit.">
            <description>
            Wurde @absolute_repeat in einer run_time angegeben, ist unter bestimmten Umständen die erste Startzeit nicht korrekt ermittelt worden.
            </description>
        </revision>
    </change>

		<change date="2010-05-04" version="2.1.1" subversion_revision="6096">
        <revision jira="JS-380" type="correction" title="Jobscheduler 'friert' nicht mehr ein, wenn Job auf 'suspend' gesetzt wird.">
            <description>
            Bei API Jobs kam es gelegentlich zu dem Problem, dass der gesamte Jobscheduler 'eingefroren' ist, wenn ein Job auf 'suspend' gesetzt
            worden ist. Das ist immer dann passiert, wenn das 'suspend' innerhalb einer Operation (spooler_start, spooler_process ...) ausgeführt worden ist.
            </description>
        </revision>
    </change>

    <change date="2010-04-28" version="2.1.1" subversion_revision="6089">
        <revision jira="JS-481" type="correction" title="Nicht mehr benötigte TCP Verbindungen werden jetzt zuverlässig freigegeben.">
            <description>
            Beim Öffnen einer neuen TCP Verbindung wird geprüft, ob es bereits eine nicht mehr benötigte Verbindung für diesen host/port registriert ist.
            </description>
        </revision>
    </change>

		<change date="2010-04-27" version="2.1.1" subversion_revision="6078">
        <revision jira="JS-471" type="modification" title="Mehr als 64 paralle Prozesse unter Windows möglich.">
            <description>
	            Unter Windows besteaht bisher die Beschränkung auf 64 parallel laufende Prozesse. Die mögliche Anzahl ist jetzt analog zu der
	            unter Unix.
            </description>
        </revision>
    </change>
    
    <change date="2010-04-13" version="2.1.0" subversion_revision="6078">
      <revision jira="JS-409" type="modification" title="Startzeitpunkt eines Jobs kann jetzt beliebig festgelegt werden.">
          <description>
	          Der Startzeitpunkt eines Jobs kann jetzt um mehr als 24 Stunden in die Zukunft gelegt werden.
          </description>
      </revision>
    </change>
	  
	  <change date="2010-04-13" version="2.1.0" subversion_revision="6078">
        <revision jira="JS-444" type="correction" title="Auch für Monitore werden Includes in der laufenden Scheduler-Instanz aufgelöst und an den Monitor-Prozess übergeben.">
            <description>
	            Die mit dem Attribute live_file bezeichnete Datei wird jetzt bei Änderung nachgeladen, dazu muss die Datei LOKAL abgelegt sein.
            </description>
        </revision>
    </change>

	<change date="2010-04-13" version="2.1.0" subversion_revision="6078">
      <revision jira="JS-457" type="correction" title="Zeitstempel der Konfigurationsdateien werden jetzt als UTC gekennzeichnet">
          <description>
	          Der Zeitstempel der Konfigurationsdateien werden jetzt als UTC gekennzeichnet.
          </description>
      </revision>
  </change>		

  <change date="2010-03-23" version="2.1.0" subversion_revision="6070">
    <revision jira="JS-421" type="correction" title="SCHEDULER_RETURN_VALUES bei Verwendung von Monitoren unter UNIX möglich">
    </revision>
  </change>

  <change date="2010-04-13" version="2.1.0" subversion_revision="6065">
      <revision jira="JS-421" type="correction" title="Umgebungsvariable zwischen Scripten werden jetzt richtig übergeben.">
          <description>
	          Shell-Scripte können Umgebungsvariablen, die von vorhergehenden Scripten gesetzt worden sind, jetzt korrekt auslesen.
          </description>
      </revision>
  </change>

	<change date="2009-06-12" version="2.0.223" subversion_revision="6010">
        <revision type="new" title="Neue API-Aufrufe Order.setback_count und Job.setback_max">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="setback_count"/>
                    </li>
                    <li>
                        <scheduler_method class="Job" property="setback_max"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2009-05-07" version="2.0.222" subversion_revision="6007">
        <revision type="new" title="&lt;job warn_if_shorter_than und warn_if_longer_than>">
            <description>
                <p>
                    Wenn die Dauer eines Jobschritts von einer Vorgabe abweicht, 
                    gibt der JobScheduler eine Warnung aus.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="warn_if_shorter_than"/>
                    </li>
                    <li>
                        <scheduler_element name="job" attribute="warn_if_longer_than"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2009-03-20" version="2.0.221" subversion_revision="5985">
        <revision type="modification" title="Windows: kill bricht alle Kindprozesse ab">
            <description>
                <p>
                    Ein <scheduler_element name="kill_task"/> auf einen Shell-Job bricht auch alle Kind- und Kindeskind-Prozesse ab,
                    wie bereits unter Unix.
                </p>
            </description>
        </revision>
    </change>


    <change date="2009-03-10" version="2.0.221" subversion_revision="5980">
        <revision type="new" title="Monitor für Shell-Jobs">
            <description>
                <p>
                    Ein <scheduler_element name="monitor"/> kann jetzt auch für Nicht-API-Jobs angegeben werden.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="monitor"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="modification" title="Datenbankproblem mit der Stunde zwischen Winter- und Sommerzeit gelöst">
        </revision>
    </change>
    

    <change date="2009-03-02" version="2.0.220" subversion_revision="5972">
        <revision type="correction" title="Nach kill -9 wird Dauerauftrag nicht mehr sofort beim nächsten Scheduler-Lauf gestartet"/>
        
        <revision type="new" title="&lt;settings> in &lt;job>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="settings"/>
                    </li>
                    <li>
                        <scheduler_element name="mail_on_error"/>
                    </li>
                    <li>
                        <scheduler_element name="mail_on_warning"/>
                    </li>
                    <li>
                        <scheduler_element name="mail_on_success"/>
                    </li>
                    <li>
                        <scheduler_element name="mail_on_process"/>
                    </li>
                    <li>
                        <scheduler_element name="mail_on_delay_after_error"/>
                    </li>
                    <li>
                        <scheduler_element name="log_mail_to"/>
                    </li>
                    <li>
                        <scheduler_element name="log_mail_cc"/>
                    </li>
                    <li>
                        <scheduler_element name="log_mail_bcc"/>
                    </li>
                    <li>
                        <scheduler_element name="log_level"/>
                    </li>
                    <li>
                        <scheduler_element name="history"/>
                    </li>
                    <li>
                        <scheduler_element name="history_on_process"/>
                    </li>
                    <li>
                        <scheduler_element name="history_with_log"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2009-02-25" version="2.0.220" subversion_revision="5970">
        <revision type="modification" title="Scheduler als Unix-Daemon leitet stdout/stderr in Datei um">
            <description>
                <p>
                    Wie es sich für einen Daemon gehört, 
                    schließt der JobScheduler stdout und stderr und leitet die Ausgaben in die Datei 
                    <code>scheduler.out</code>. 
                    Diese Datei muss beschreibbar sein.
                </p>
                <ul>
                    <li>
                        Siehe Option <scheduler_option name="service"/> 
                    </li>
                </ul>

            </description>
        </revision>
    </change>

    <change date="2009-01-27" version="2.0.219" subversion_revision="5968">
        <revision type="correction" title="libhostjava.so im JobScheduler für HP-UX/Itanium eingebunden">
            <description>
                <p>
                    Im Gegensatz zu HP-UX/PA-RISC ist jetzt für Itanium die libhosthava.so in den JobScheduler eingebunden.
                    Damit tritt das "com_construct-Problem" nicht mehr auf.
                </p>
            </description>
        </revision>
    </change>

    <change date="2009-01-21" version="2.0.219" subversion_revision="5966">
        <revision type="modification" title="Unter Unix mit kill abgebrochene Task führt zum Task-Fehler">
            <description>
                <p>
                    Damit ist das Verhalten unter Unix wie unter Windows.
                </p>
            </description>
        </revision>

        <revision jira="JS-321" type="correction" title="Backup-Scheduler übernimmt wieder Job-, Task-, Jobketten- und Auftragseinstellungen">
            <description>
                <p>
                    Im Betrieb mit einem Backup-Scheduler werden die Spalten cluster_member_id nicht mehr gefüllt.
                    Die Spalten werden nur nur im Betrieb für verteilte Aufträge gefüllt, 
                    so dass die Datensätze nur dann den Cluster-Membern fest zugeordnet sind.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-12-12" version="2.0.219" subversion_revision="5963">
        <revision jira="JS-305" type="new" title="Zurücksetzen eines Auftrags">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="modify_order" attribute="action" value="reset"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2008-11-18" version="2.0.218" subversion_revision="5961">
        <revision type="modification" title="&lt;script language=&quot;shell&quot;>: .cmd-Datei wird in OEM-Codierung erstellt">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="script" attribute="language" value="script"/>
                    </li>
                </ul>
                <p>
                    Windows verlangt für Batch-Dateien die OEM-Codierung.
                    Wenn ein Zeichen aus <scheduler_element name="script"/> nicht umgesetzt werden kann,
                    bricht der JobScheduler den Job mit der Meldung <scheduler_message code="SCHEDULER-471"/> ab.
                    Jedoch ignoriert der JobScheduler schon beim Einlesen der XML-Konfiguration Zeichen, die nicht in Latin1 sind,
                    siehe <scheduler_a href="konfiguration.xml#encoding" quote="yes"/>.
                </p>
                <scheduler_message level="error" code="SCHEDULER-471"/>
            </description>
        </revision>
    </change>

    
    <change date="2008-11-12" version="2.0.217" subversion_revision="5956">
        <revision jira="JS-316" type="new" title="Neue Umgebungsvariablen für Nicht-API-Jobs">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="process"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    
    <change date="2008-11-05" version="2.0.216" subversion_revision="5953">
        <revision type="modification" title="Transaktionsisolation für Sybase geändert">
            <description>
                <p>
                    Für Sybase ist jetzt <i>read committed</i> eingestellt.
                </p>
            </description>
        </revision>

        <revision type="new" title="&lt;start_job force=&quot;no&quot;>: Task starten, ohne Job zu entstoppen">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="start_job" attribute="force" value="no"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="Fehlermeldung Z-ASYNC-SOCKET-001 unter Windows korrigiert">
            <description>
                <p>
                    Eine interne Sicherheitsprüfung, die nur für Unix vorgesehen ist,
                    verhinderte unter Windows gelegentlich den Start eines Jobs.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Fehler aus 2.0.214.5927 (Jobs in der Datenbank) korrigiert">
            <description>
                Außerdem die Spalten der Tabelle <code>SCHEDULER_JOB_CHAIN_NODES</code> verschmälert.
            </description>
        </revision>
        
    </change>

    <change date="2008-10-28" version="2.0.215" subversion_revision="5938">
        <revision type="correction" title="Kleine Korrektur der Log-Kategorien"/>
    </change>
    
    <change date="2008-10-22" version="2.0.215" subversion_revision="5937">
        <revision type="new" title="Bei besonderem Lizenzsschlüssel liefert der JobScheduler das Datenbankkennwort">
            <description>
                <p>
                    Der Lizenzschlüssel kann per <scheduler_element name="licence.use"/> übergeben werden.
                    Daraufhin unterdrückt der JobScheduler nicht länger in der Antwort von 
                    <scheduler_element name="show_state"/> die Zeichenfolge, die mit <code>-password=</code> beginnt.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="licence.use"/>.
                    </li>
                    <li>
                        <scheduler_element directory="xml/answer/" name="state" attribute="db"/>.
                    </li>
                </ul>
            </description>
        </revision>
    
        <revision type="correction" title="Allgemeines zentrales Konfigurationsverzeichnis kann gelöscht werden">
            <description>
                <p>
                    Wenn das zentrale allgemeine Konfigurationsverzeichnis gelöscht wird,
                    lässt der Supervisor in allen angeschlossenen Schedulern die entsprechenden Objekte löschen.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="config" attribute="central_configuration_directory"/>.
                    </li>
                    <li>
                        <scheduler_element name="config" attribute="supervisor"/>.
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    
    <change date="2008-10-16" version="2.0.214" subversion_revision="5927">
        <revision type="new" title="Gestoppte Jobs, Jobketten und Jobkettenknoten bleiben über Scheduler-Neustart hinweg gestoppt">
            <description>
                <p>
                    Der Zustand der Jobs, Jobketten und Jobkettenknoten wird in der Datenbank gehalten.
                    Wenn eins dieser drei Objekte gelöscht wird, wird auch der dazugehörige Datenbankeintrag gelöscht.
                </p>
                
                <ul>
                    <li>
                        <scheduler_element name="modify_job" attribute="cmd" value="stopped"/>.
                        Wenn der Job wegen Herunterfahrens des Schedulers gestoppt wird, wird das nicht in der Datenbank vermerkt.
                    </li>
                    <li>
                        <scheduler_element name="job_chain.modify" attribute="state" value="stopped"/>
                    </li>
                    <li>
                        <scheduler_element name="job_chain_node.modify" attribute="action" value="stop"/>: 
                        Der Wert von <code>action</code> bleibt erhalten.
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    
    <change date="2008-10-07" version="2.0.213" subversion_revision="5922">
        <revision type="correction" title="Verschachtelte Jobketten mit Großbuchstaben funktionieren">
            <description>
                <p>
                    Großbuchstaben im Namen der übergeordneten Jobkette konnten den JobScheduler abbrechen lassen.
                    Das ist behoben.
                    In Jobkettennamen werden große wie kleine Buchstaben angesehen.
                </p>
                <p>
                    In der Datenbank werden die Jobkettennamen in Großschreibung belassen.
                    Aufträge werden nur wiedergefunden, wenn die Großschreibung sich nicht ändert. 
                    Jobkettennamen sollten in der Datenbank normalisiert, also kleingeschrieben, gespeichert werden.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-10-04" version="2.0.213" subversion_revision="5918">
        <revision type="correction" title="Hauptprotokoll im Browser-Fenster bricht nicht mehr ab">
            <description>
                <p>
                    Das Hauptprotokoll im Browser-Fenster bricht jetzt nicht mehr ab.
                    Das passierte, nachdem das Hauptprotokoll wegen eines Fehler beim Scheduler-Start versendet worden ist.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2008-10-02" version="2.0.213" subversion_revision="5914">
        <revision type="modification" title="$-Substitition mit \ abschaltbar">
            <description>
                <p>
                    Das Zeichen »<code>\</code>« vor »<code>$</code>« liefert das Zeichen »<code>$</code>«, ohne eine Variable zu ersetzen.
                </p>
                <p>
                    Siehe <scheduler_a href="variable_substitution.xml" quote="yes"/>.
                </p>
            </description>
        </revision>

        <revision type="modification" title="&lt;kill_task> auf Nicht-API-Prozessen unter Unix bricht alle Kindprozesse ab">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="kill_task" />
                    </li>
                </ul>
                <p>
                    Die Meldungen <code>SCHEDULER-277</code> und <code>SCHEDULER-282</code> werden nicht mehr ausgegeben.
                </p>
            </description>
        </revision>

        <revision type="new" title="Neue Kommandos zum Schalten der Log-Kategorien">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="scheduler_log.log_categories.show" />
                    </li>
                    <li>
                        <scheduler_element name="scheduler_log.log_categories.set" />
                    </li>
                    <li>
                        <scheduler_element name="scheduler_log.log_categories.reset" />
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2008-09-11" version="2.0.212" subversion_revision="5882">
        <revision type="new" title="&quot;..&quot; ist in allen Pfaden möglich">
            <description>
                <p>
                    Pfade, die auf ein Scheduler-Objekt verweisen (Job, Jobkette usw.) können mit ".." ins obere Verzeichnis verweisen.
                    Zum Beispiel in
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job_chain_node" attribute="job"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2008-09-07" version="2.0.211" subversion_revision="5876"> 
        <revision type="correction" title="Implementierung der verschachtelten Jobketten überarbeitet">
        </revision>

        <revision type="new" title="scheduler.log zeigt Tag des Monats in der ersten Spalte">
        </revision>

        <revision type="new" title="Diagnosemeldung beim Fehlstart eines Prozesses">
            <description>
                <p>
                    Wenn ein Nicht-API-Prozess unter Unix sich nicht starten lässt (Fehler bei <code>execvp</code>),
                    gibt der JobScheduler die <code>execvp</code>-Parameterliste und die Umgebungsvariablen aus.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="process"/>
                    </li>
                    <li>
                        <scheduler_element name="script" attribute="language" value="shell"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2008-08-22" version="2.0.210" subversion_revision="5864">
        <revision type="correction" title="Anpassung an verschachtelte Jobketten">
            <description>
                <p>
                    <scheduler_element name="add_order" attribute="state"/> und
                    <scheduler_element name="add_order" attribute="end_state"/> sind jetzt auf verschachtelte Jobketten anwendbar.
                </p>
            </description>
        </revision>
    </change>
    
    
    <change date="2008-08-14" version="2.0.210" subversion_revision="5860">
        <revision type="correction" title="Perl-API unter Unix (libsosperlscript.so) verbessert">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Log" property="level"/>:
                        $spooler_log->LetProperty( 'level', ... ) funktioniert.
                    </li>
                    <li>
                        Die Perl-Schnittstelle versucht jetzt, jeden unbekannten Typ als String zu erkennen, 
                        so dass auch folgende Sequenz funktioniert, 
                        deren zweite Anweisungen <code>$a</code> von einem SVt_IV in einen SVt_PVIV wandelt:
                        <pre>my $a = 1;
my $x = "$a";
$spooler_log->info( $a )</pre>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Klasse Run_time für Java ermöglicht">
            <description>
                <p>
                    <scheduler_method class="Run_time"/> kann auch in Java benutzt werden.
                </p>
            </description>
        </revision>
    </change>


    <change date="2008-07-25" version="2.0.210" subversion_revision="5838">
        <revision type="new" title="Neue Umgebungsvariable SCHEDULER_TASK_ID">
            <description>
                <p>
                    Siehe <scheduler_element name="process"/>.
                </p>
            </description>
        </revision>
    </change>
    
    
    <change date="2008-07-22" version="2.0.210" subversion_revision="5837">
        <revision type="new" title="XML-Kommandos zum Setzen und Lesen der Scheduler-Parameter">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="param"/>
                    </li>
                    <li>
                        <scheduler_element name="param.get"/>
                    </li>
                    <li>
                        <scheduler_element name="params"/>
                    </li>
                    <li>
                        <scheduler_element name="params.get"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Umgang mit Feiertagen: &lt;period when_holiday=&quot;…&quot;>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="period" attribute="when_holiday"/>
                    </li>
                    <li>
                        <scheduler_element name="run_time" attribute="when_holiday"/>
                    </li>
                </ul>
                
                <p>
                    Der JobScheduler sieht zwanzig Jahre voraus, längstens aber bis 2038.
                </p>
            </description>
        </revision>

        <revision type="new" title="Wochentage, zum Beispiel Samstag und Sonntag, als Feiertage deklarierbar">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="holidays" child="weekdays"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Aufträge mit inkludierten Parameterdateien">
            <description>
                <p>
                    <scheduler_element name="order"/><scheduler_element name="params" child="include"/>
                    ist möglich. 
                    Bei einem dateibasierten Auftrag kann die inkludierte Datei überwacht werden.
                </p>
            </description>
        </revision>

        <revision type="new" title="&lt;job timeout=&quot;…&quot;> gilt auch für Nicht-API-Jobs">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="timeout"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2008-07-02" version="2.0.208" subversion_revision="5817">
        <revision type="correction" title="Dateiaufträge beschleunigt">
            <description>
                <p>
                    Wenn der erste Job der Jobkette mehrere Tasks erlaubt
                    (<scheduler_element name="job" attribute="tasks"/>), 
                    füttert der JobScheduler die Jobkette jetzt schneller mit den Dateiaufträgen..
                </p>
            </description>
        </revision>
    </change>
    

    <change date="2008-06-30" version="2.0.208" subversion_revision="5814">
        <revision type="correction" title="Doppeltes &quot;To:&quot; aus Mail-Verzeichnis entfernt">
            <description>
                <p>
                    Die im eMail-Verzeichnis (<scheduler_ini_entry file="factory.ini" section="spooler" entry="mail_queue_dir"/>)
                    abgelegten Dateien enthielten zur Kompatibilität mit einer alten Mail-Software eine zusätzlich "To:"-Zeile.
                    Die Zeile wird nicht mehr eingefügt.
                    Es sollte eine aktuelle Mail-Software (mail.jar oder w3jmail44.dll) eingesetzt werden.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Variable_set.set_value() auch in Java möglich">
            <description>
                <p>
                    Der schreibende Aufruf von <scheduler_method class="Variable_set" property="value"/> 
                    ist jetzt auch in Java möglich.
                </p>
                <p>
                    Der Aufruf ist damit durchgängig eingeführt und ersetzt 
                    <scheduler_method class="Variable_set" property="var"/>,
                    der in JavaScript nicht möglich ist.
                </p>
            </description>
        </revision>

        <revision type="correction" title="spooler_log.new_filename">
            <description>
                <p>
                    <scheduler_method class="Log" property="new_filename"/>
                    kann jetzt auch unter Unix verwendet werden.
                </p>
            </description>
        </revision>

        <revision title="Dokumentation erweitert">
            <description>
                <p>
                    <scheduler_method class="Log" property="mail_on_process"/>
                    ergänzt; 
                    Texte aus settings.xml werden auf den API-Seiten gezeigt.
                </p>
            </description>
        </revision>
    </change>


    <change date="2008-06-26" version="2.0.208" subversion_revision="5811">
        <revision title="API um Sperren erweitert">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Task" method="try_hold_lock"/>
                    </li>
                    <li>
                        <scheduler_method class="Task" method="try_hold_lock_non_exclusive"/>
                    </li>
                    <li>
                        <scheduler_method class="Task" method="call_me_again_when_locks_available"/>
                    </li>
                    <li>
                        Antwort-Element <scheduler_element directory="xml/answer/" name="task" attribute="state"/>: 
                        neue Zustände 
                        <code>opening</code>, 
                        <code>opening_waiting_for_locks</code> und
                        <code>running_waiting_for_locks</code>.
                    </li>
                </ul>
            </description>            
        </revision>
    </change>


    <change date="2008-06-09" version="2.0.207" subversion_revision="5799">
        <revision title="Auf Microsoft Visual Studio 2008 umgestellt">
        </revision>
    </change>


    <change date="2008-05-25" version="2.0.206" subversion_revision="5789">
        <revision type="correction" title="spidermonkey.dll und libspidermoneky.so: Verhalten bei Boole'sch true verbessert">
            <description>
                <p>
                    Boole'sch true wird jetzt immer als derselbe interne Wert geliefert,
                    sodass folgender Code funktioniert:
                </p>
                <pre>spooler_log.mail_on_success = true;
var a = spooler_log.mail_on_success;
if( a != true )  spooler_log.error( a + "!=" + true );  // Okay ab Spidermonkey 1.7.0.5789</pre>
            </description>
        </revision>
              
        <revision type="correction" title="Dokumentation korrigiert">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Log" property="last"/> ist nur lesbar.
                    </li>
                    <li>
                        <scheduler_method class="Log" property="last_error_line"/> ist nur lesbar.
                    </li>
                </ul>
            </description>
        </revision>
    </change>
    
    <change date="2008-05-19" version="2.0.206" subversion_revision="5787">
        <revision type="correction" title="Umstellung der Datenbankspalte SCHEDULER_HISTORY.END_TIME auf NULL">
            <description>
                <p>
                    Anpassung an MySQL 5, das "0000-00-00" für fehlenden Feldwert schreibt, wenn die Spalte mit NOT NULL deklariert ist.
                </p>
            </description>
        </revision>

        <revision type="modification" title="Order.priority wird jetzt richtig interpretiert">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="priority"/>:
                        Höhere Priorität ordnet einen Auftrag <i>vorne</i> in die Auftragswarteschlange ein.
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="Verteilte Aufträge schreiben wieder nur einen Historiensatz">
            <description>
                <p>
                    Seit Version 2.0.194.8488 (2008-01-05) schrieben verteilte Aufträge für jeden Schritt einen Historiensatz. 
                    Das ist korrigiert.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-05-09" version="2.0.205" subversion_revision="5781">
        <revision type="deletion" title="Order.job deleted">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Order"/><code>.job</code> ausgebaut.
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;show_state what=&quot;source&quot;">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="show_state" attribute="what" value="source"/> zeigt XML-Quellen
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;schedule.remove> entfernt ein Schedule">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="schedule.remove"/> entfernt ein Schedule
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2008-05-06" version="2.0.204" subversion_revision="5773">
        <revision jira="JS-279" type="new" title="Weitere Umgebungsvariablen für Nicht-API-Jobs">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="process"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2008-04-29" version="2.0.203" subversion_revision="5764">
        <revision jira="JS-271" type="new" title="XML-Dokument in einem Konfigurationsverzeichnis anlegen: &lt;modify_hot_folder>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="modify_hot_folder"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-245" type="new" title="Neues XML-Element &lt;schedule>: Benannte &lt;run_time>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="schedule"/>
                    </li>
                    <li>
                        <scheduler_element name="schedules"/>
                    </li>
                    <li>
                        <scheduler_element name="show_state" attribute="what" value="schedules"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-274" type="new" title="Job_chain.title">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job_chain" attribute="title"/>
                    </li>
                    <li>
                        <scheduler_method class="Job_chain" property="title"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2008-04-21" version="2.0.202" subversion_revision="5728">
        <revision type="correction" title="Problem beim gleichzeitigen Start zweier Cluster-Scheduler behoben">
            <description>
                <p>
                    Beim gleichzeitigen Start zweier JobScheduler desselben Clusters konnte ein JobScheduler beim Start hängen bleiben.
                    Das ist behoben.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-04-18" version="2.0.202" subversion_revision="5723">
        <revision jira="JS-265" type="new" title="Order.end_state">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="order" attribute="end_state"/>
                    </li>
                    <li>
                        <scheduler_element name="add_order" attribute="end_state"/>
                    </li>
                    <li>
                        <scheduler_element name="modify_order" attribute="end_state"/>
                    </li>
                    <li>
                        <scheduler_method class="Order" property="end_state"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2008-04-02" version="2.0.201" subversion_revision="5696">
        <revision type="modification" title="Anpassungen an Sybase Adaptive Server Enterprise">
        </revision>
    </change>

    <change date="2008-03-31" version="2.0.201" subversion_revision="5692">
        <revision jira="JS-60" type="modification" title="&lt;script> &lt;/script> wirkt wie &lt;script/>">
            <description>
                <p>
                    Leere Textknoten (nur Leerzeichen, Zeilenwechsel und Tabulator) im XML-Element <scheduler_element name="script"/> ignoriert der Scheduler.
                    Wenn das XML-Element <code>&lt;script></code> nur einen leeren Textknoten enthält, gilt das als nicht angegebener Quell-Code.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-03-14" version="2.0.201" subversion_revision="5684">
        <revision type="modification" title="Jobprotokolldatei wird nicht mehr offengehalten">
            <description>
                <p>
                    Wenn der JobScheduler etwas ins Jobprotokoll schreibt, 
                    öffnet er die Datei zuvor und schließt sie danach wieder.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-03-13" version="2.0.201" subversion_revision="5679">
        <revision jira="JS-150" type="new" title="Anpassung der Spalte SCHEDULER_ORDER_HISTORY.END_TIME in einer Access-Datenbank">
            <description>
                <p>
                    Die Datenbank-Spalte <code>SCHEDULER_ORDER_HISTORY.END_TIME</code> muss mit JS-150 <code>NULL</code> aufnehmen können.
                    Der JobScheduler prüft das beim Start und ändert die Spalte.
                    Access verlangt dazu ein besonders Verfahren: Der JobScheduler legt eine Kopie der Spalte an, die er dann in die erneuerte zurückkopiert.
                    Diese Operation, die einmal beim Start des Schedulers durchgeführt wird,
                    sollte nicht unterbrochen werden.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-03-07" version="2.0.201" subversion_revision="5678">
        <revision jira="JS-150" type="new" title="Neue Spalten ERROR, ERROR_CODE und ERROR_TEXT in der Auftragsschritthistorie">
            <description>
                <p>
                    Bei einem Task-Fehler werden die neuen Felder der Tabelle <code>SCHEDULER_ORDER_STEP_HISTORY</code> gefüllt.
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-02-28" version="2.0.201" subversion_revision="5671">
        <revision type="new" title="Attribut day= lässt bereits angegebene Tage zu">
            <description>
                <p>
                    In <scheduler_element name="weekdays"/> und
                    <scheduler_element name="monthdays"/>
                    können Tage wiederholt angegeben werden. 
                    Der JobScheduler mischt die Perioden.
                    
                    Die Meldung <code>SCHEDULER-444</code> entfällt.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="weekdays"/><scheduler_element name="day" attribute="day"/>
                    </li>
                    <li>
                        <scheduler_element name="monthdays"/><scheduler_element name="day" attribute="day"/>
                    </li>
                    <li>
                        <scheduler_element name="ultimos"/><scheduler_element name="day" attribute="day"/>
                    </li>
                </ul>
                <scheduler_example>
                    <pre>&lt;monthdays>
    &lt;day day="12 13">
        &lt;period single_start="13:12"/>
    &lt;/day>
    &lt;day day="12">
        &lt;period single_start="12:00"/>
    &lt;/day>
&lt;/monthdays></pre>
                    <p>
                        Das ergibt für den 12. eines Monats zwei Startzeiten: 12:00 und 13:12.
                    </p>
                </scheduler_example>
            </description>
        </revision>
    </change>

    <change date="2008-02-25" version="2.0.200" subversion_revision="5665">
        <revision type="modification" title="&lt;include include_path=&quot;...&quot;>: Umgebungsvariablen können abgerufen werden">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="config" attribute="include_path" value="$HOME/..."/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-215" type="new" title="&lt;params> mit &lt;include>">
            <description>
                <p>
                    In Dateien abgelegte Parameter können inkludiert werden. 
                    Mit einem XPath-Ausdruck lassen sich die <scheduler_element name="param"/> adressieren.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="params" child="include"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-240" type="new" title="&lt;include live_file=&quot;…&quot;>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="include" attribute="live_file"/>
                    </li>
                </ul>
                <p>
                    Das neue Attribut <code>live_file=</code> kann verwendet werden direkt unter
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job" child="description"/>
                    </li>
                    <li>
                        <scheduler_element name="job" child="params"/>
                    </li>
                    <li>
                        <scheduler_element name="job" child="run_time"/>
                    </li>
                    <li>
                        <scheduler_element name="job"/><scheduler_element name="run_time" child="holidays"/>
                    </li>
                    <li>
                        <scheduler_element name="holidays"/>
                    </li>
                    <li>
                        <scheduler_element name="script"/>
                    </li>
                </ul>
                <p>
                    Unter <scheduler_element name="job" child="params"/> führt eine Änderung der mit <code>live_file=</code> angegebenen Datei
                    zum Erneuten Lesen des Jobs.
                </p>
            </description>
        </revision>

        <revision jira="JS-222" type="new" title="Neuer Aufruf job.folder_path()">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Job" property="folder_path"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2008-02-11" version="2.0.199" subversion_revision="5618">
        <revision jira="JS-221" type="new" title="Cache für zentrale Konfiguration und parallele lokale Konfiguration">
            <description>
                <p>
                    Eine vom Supervisor geladene <a href="central_configuration.xml">zentrale Konfiguration</a> wird im neuen Verzeichnis <code>./config/cache</code>
                    gehalten.
                </p>
                <p>
                    Der JobScheduler mischt die zentrale mit der lokalen Konfiguration.
                    Ein zentral konfiguriertes Objekt kann nicht lokal überschrieben werden.
                </p>
                <p>
                    Unter Windows sind wegen der weiteren Verzeichnisüberwachung noch 25 TCP-Verbindungen möglich.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="config" attribute="supervisor"/>
                    </li>
                </ul>
            </description>
            <messages>
                <message level="error" code="SCHEDULER-460"/>
                <message level="warn" code="SCHEDULER-703"/>
            </messages>
        </revision>
    </change>

    <change date="2008-02-04" version="2.0.198" subversion_revision="5596">
        <revision jira="JS-222" type="new" title="Neue Aufrufe Spooler.configuration_directory und Job.folder_path">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Spooler" property="configuration_directory"/>
                    </li>
                    <li>
                        <scheduler_method class="Job" property="configuration_directory"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2008-02-04" version="2.0.197" subversion_revision="5594">
        <revision jira="JS-255" type="modification" title="Prozessklassen auch für Nicht-API Jobs möglich">
            <description>
                <p>
                    Nicht-API Jobs können einer Prozessklasse zugeordnet werden (Default: die Prozessklasse mit dem leeren Namen <code>""</code>).
                    D.h. die in der Prozessklasse eingestellte Begrenzung der Prozesse wirkt auch auf Nicht-API Jobs.
                </p>
                <p>
                    Die voreingestellte Begrenzung ist von 10 auf 30 erhöht worden.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="process_class"/>
                    </li>
                    <li>
                        <scheduler_element name="process_class" attribute="max_processes" value="30"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-213" type="new" title="Nicht-API Jobs lassen sich unter entferntem JobScheduler ausführen">
            <description>
                <p>
                    Für Nicht-API Jobs 
                    lässt sich eine Prozessklasse mit entferntem JobScheduler angeben.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="process"/>
                    </li>
                    <li>
                        <scheduler_element name="script" attribute="language" value="script"/>    
                    </li>
                    <li>
                        <scheduler_element name="process_class" attribute="remote_scheduler"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-205" type="modification" title="Job.name liefert den Pfad des Jobs">
            <description>
                <p>
                    <scheduler_method class="Job" property="name"/> liefert nicht mehr den Namen, sondern den Pfad des Jobs.
                </p>
            </description>
        </revision>

        <revision jira="JS-204" type="new" title="Zentrale Konfiguration">
            <description>
                <p>
                    Ein als Supervisor laufender JobScheduler kann Konfigurationsdateien und -verzeichnisse einer <a href="central_configuration.xml">zentralen Konfiguration</a> für andere JobScheduler bereitstellen.
                    Änderungen werden laufend übernommen.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="config" attribute="supervisor"/>
                    </li>
                    <li>
                        <scheduler_element name="config" attribute="central_configuration_directory"/>
                    </li>
                    <li>
                        <scheduler_a href="central_configuration.xml" quote="yes"/>
                    </li>
                </ul>
            </description>

            <messages>
                <message level="warn"  code="SCHEDULER-454"/>
                <message level="info"  code="SCHEDULER-455"/>
                <message level="error" code="SCHEDULER-456"/>
                <message level="error" code="SCHEDULER-457"/>
                <!--message level="error" code="SCHEDULER-458"/-->
                <message level="info"  code="SCHEDULER-701"/>
                <message level="info"  code="SCHEDULER-702"/>
                <message level="warn"  code="SCHEDULER-899"/>
            </messages>
        </revision>

        <revision jira="JS-203" type="new" title="stdout und stderr werden laufend ins Protokoll übernommen">
            <description>
                <p>
                    Ausgaben nach <code>stdout</code> und <code>stderr</code> werden nicht mehr erst am Ende der Task,
                    sondern laufend übernommen.
                    Das geschieht sekündlich. Wenn keine Ausgabe kommt, verlängert sich die Periode auf zehn Sekunden.
                </p>
                <p>
                    Bei API-Jobs, deren Tasks auf einem entfernten JobScheduler ablaufen (<scheduler_element name="process_class" attribute="remote_scheduler"/>),
                    werden Ausgaben nach Beendigung des Skripts (also kurz vor Beendigung des Prozesses) nicht übernommen.
                </p>
            </description>
        </revision>

        <revision type="new" title="Datenbank Adaptive Server Enterprise von Sybase wird unterstützt">
            <description>
                <p>
                    Für alle Datenbanken sind die Spalten für Auftragskennungen und Jobkettenamen von 255 auf 250 Zeichen verkürzt worden.
                </p>
            </description>
        </revision>
        
        <revision jira="JS-227" type="correction" title="Mit &lt;run_time> wiederholte Aufträge werden nach Mitternacht fortgesetzt">
            <description>
                <p>
                    Bislang endeten die Aufträge um 24:00. (Eine Folge von JS-123 im Oktober 2007.)
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-01-14" version="2.0.196" subversion_revision="5515">
        <revision type="new" title="JobScheduler für AIX bereitgestellt"/>
    </change>

    <change date="2008-01-14" version="2.0.196" subversion_revision="5515">
        <revision jira="JS-219" type="new" title="HTML-Seiten über virtuelles Verzeichnis eines HTTP-Proxys möglich">
        </revision>
    </change>

    <change date="2008-01-13" version="2.0.196" subversion_revision="5515">
        <revision jira="JS-220" type="new" title="Spidermonkey 1.7">
            <description>
                <p>
                    Das Modul <code>libspidermonkey.so</code> bzw. <code>spidermonkey.dll</code>
                    ist auf die Version 1.7.0 umgestellt.
                    <a href="http://www.mozilla.org/js/spidermonkey/release-notes/JS_170.html">SpiderMonkey 1.7.0 Change Log</a>
                </p>
            </description>
        </revision>
    </change>

    <change date="2008-01-11" version="2.0.195" subversion_revision="5499">
        <revision jira="JS-212" type="new" title="Element &lt;params> unter &lt;config>">
            <description>
                <p>
                    Mit <scheduler_element name="params"/> unter <scheduler_element name="config"/>
                    lassen sich Scheduler-weite Parameter setzen, die mit
                    <scheduler_method class="Spooler" property="variables"/> abgerufen werden können.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2008-01-05" version="2.0.194" subversion_revision="5488">
        <revision jira="JS-150" type="new" title="Neue Datenbanktabelle scheduler_order_step_history">
            <description>
                <p>
                    Die Tabelle nimmt für jeden Auftragsschritt einen Satz auf.
                    Der Satz wird zu Beginn des Schritts geschrieben und am Ende vervollständigt.
                </p>
                <p>
                    Die Tabelle <code>scheduler_order_history</code> wird jetzt schon mit dem ersten Auftragsschritt beschrieben
                    und nach der Ausführung des Auftrags vervollständigt.
                </p>
                <p>
                    Die Spalte <code>scheduler_order_history.end_time</code> nimmt jetzt <code>NULL</code> auf.
                </p>
                <p>
                    Die Tabelle <code>scheduler_order_step_history</code> hat folgenden Aufbau (Syntax für PostgresQL):
                </p>
                <pre>CREATE TABLE SCHEDULER_ORDER_STEP_HISTORY 
(
    "HISTORY_ID" integer not null,          // <i>Verweis zu SCHEDULER_ORDER_HISTORY.HISTORY_ID</i>
    "STEP"       integer not null,          // <i>1, 2, 3, ...</i>
    "TASK_ID"    integer not null,          // <i>Verweis zu SCHEDULER_TASKS.TASK_ID</i>
    "STATE"      varchar(100) not null,     // <i>Auftragszustand</i>
    "START_TIME" timestamp not null,
    "END_TIME"   timestamp,
    primary key( "HISTORY_ID", "STEP" )
)</pre>
                <ul>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="spooler" entry="db_order_step_history_table"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change jira="JS-150" date="2008-01-05" version="2.0.194" subversion_revision="5476">
        <revision type="new" title="Neue Datenbankspalte scheduler_history.pid">
            <description>
                <p>
                    Die neue Datenbankspalte <code>scheduler_history.pid</code> nimmt die Prozesskennung des Betriebssystems auf.
                </p>
                <p>
                    Datenbank-Deklaration:
                </p>
                <pre>"PID" integer</pre>
            </description>
        </revision>
    </change>

    <change jira="JS-204" date="2008-01-02" version="2.0.193" subversion_revision="5476">
        <revision type="new" title="Zentrale Konfiguration">
            <description>
                <p>
                    <scheduler_element name="config" attribute="central_configuration_directory"/>
                </p>
                <p>
                    Der Supervisor kann jetzt die lokalen Konfigurationen mit einer <a href="central_configuration.xml">zentralen Konfiguration</a> überschreiben.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="config" attribute="supervisor"/>
                    </li>
                    <li>
                        <scheduler_element name="config" attribute="configuration_directory"/>
                    </li>
                </ul>
                
            </description>
        </revision>
    </change>

    <change date="2007-12-21" version="2.0.192" subversion_revision="5444">
        <revision type="correction" title="&lt;file_order_source> ohne regex= konnte JobScheduler abbrechen">
            <description>
                <p>
                    Bei <scheduler_element name="file_order_source"/> mit leerem Attribut <code>regex=</code>
                    konnte der JobScheduler abbrechen, 
                    nachdem ein Dateiname auf die Schwarze Liste gesetzt worden ist
                    (weil er nach Auftragsführung noch vorhanden ist).
                    Das ist behoben.
                </p>
                <p>
                    Zwischenlösung im bisherigen JobScheduler: <code>regex="."</code>
                </p>
            </description>
        </revision>
    </change>


    <change date="2007-12-20" version="2.0.192" subversion_revision="5442">
        <revision jira="JS-178"  type="correction" title="Große Antwort einer API-Methode ließ Task hängen">
            <description>
                <p>
                    Ein Aufruf von z.B. <scheduler_method class="Spooler" object="spooler" method="execute_xml"/> 
                    mit einer großen Rückgabe (etwa >100KB) konnte hängen bleiben.
                    Das ist behoben.
                </p>
            </description>
        </revision>
    </change>

    
    <change date="2007-12-19" version="2.0.192" subversion_revision="5438">
        <revision type="correction" title="Änderung einer Job-Konfiguration unter Unix hält Dateiaufträge nicht mehr an">
            <description>
                <p>
                    Unter Unix hielt eine Änderung der Konfiguration des ersten Jobs der Jobkette 
                    nach <scheduler_element name="file_order_source"/> die Dateiauftragsquelle an.
                    Das ist behoben.
                </p>
            </description>
        </revision>

        <revision type="correction" title="&lt;show_order>">
            <description>
                <p>
                    Das Kommando <scheduler_element name="show_order"/> konnte den JobScheduler abbrechen,
                    wenn der Auftrag nicht mehr vorhanden war. Das ist behoben.
                </p>
            </description>
        </revision>

        <revision jira="JS-208" type="modification" title="modify_job cmd='reread' als Null-Operation wieder eingebaut">
            <description>
                <p>
                    Das Kommando ist wirkungslos, weil die <scheduler_element name="include"/> 
                    ohnehin bei jedem Job-Start erneut gelesen werden.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-12-11" version="2.0.192" subversion_revision="5429">
        <revision jira="JS-52" type="correction" title="XML-Fehler beim Lesen des Auftrags-XML-Dokument">
            <description>
                <p>
                    Je nach Blockung der Datenbank konnte beim Lesen eines Auftrags ein XML-Fehler auftreten.
                    Das sollte behoben sein.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-12-11" version="2.0.192" subversion_revision="5428">
        <revision jira="JS-206" type="correction" title="&lt;script language=&quot;perl&quot;> meldet Fehler mit Zeilennummer und Pfad">
            <description>
                <p>
                    Ein Fehler in einem (<scheduler_element name="script" attribute="language" value="perl"/>) wird jetzt
                    in der Regel mit Zeilennummer und Pfad (bei <scheduler_element name="include"/>) gemeldet.
                </p>
                <p>
                    Unter Unix erscheint die Position in der stderr-Ausgabe.
                </p>
                <p>
                    Unter Windows wird bei machen Fehlern ("undefined value") die Zeilennummer der ersten Zeile 
                    des Abschnitts, aber nicht der fehlerhaften Zeile gemeldet.
                    Das scheint eine Besonderheit von ActivePerl zu sein.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-11-30" version="2.0.192" subversion_revision="5407">
        <revision type="modification" title="Job.name liefert den ganzen Pfad">
            <description>
                <p>
                    <scheduler_method class="Job" property="name"/> liefert nicht mehr den Namen,
                    sondern den Pfad des Jobs ohne beginnenden Schrägstrich.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-11-27" version="2.0.192" subversion_revision="5402">
        <revision type="modification" title="Datenbanktest auf ASCII-Zeichen reduziert">
            <description>
                <p>
                    Weil manche PostgresQL-Installationen Latin-1 nicht unterstützen, 
                    prüft der JobScheduler nur noch den ASCII-Zeichenvorrat (Basic Latin).
                </p>
                <scheduler_message level="error" code="SCHEDULER-452"/>
            </description>
        </revision>
    </change>

    <change date="2007-11-20" version="2.0.192" subversion_revision="5397">
        <revision type="new" title="Variablenwerte mit Nicht-Latin1-Zeichen">
            <description>
                <p>
                    Weil Umgebungsvariablen (z.B. <code>ERASE</code>) Zeichen enthalten können, 
                    die UNICODE nicht kennt, wurden interne XML-Dokumente ungültig.
                    Solche Zeichen codiert der JobScheduler jetzt hexadezimal.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2007-11-18" version="2.0.192" subversion_revision="5394">
        <revision type="new" title="PostgresQL wird besser unterstützt, JobScheduler prüft Datenbank">
            <description>
                <p>
                    Beim Start führt der JobScheduler einfache Tests des Datenbankmoduls durch:
                </p>
                <ul>
                    <li>
                        ob '<code>\</code>' (Backslash) korrekt behandelt wird,
                    </li>
                    <li>
                        ob der Latin1-Zeichenvorrat und die Steuerzeichen TB (0x08), CR (0x0D) und NL (0x0A)
                        geschrieben und gelesen werden können, und
                    </li>
                    <li>
                        ob die SQL-Anweisung <code>rollback</code> auf die Tabelle <code>SCHEDULER_VARIABLES</code> wirkt.
                    </li>
                </ul>
                <p>
                    Bei einem Fehlschlag startet der JobScheduler nicht.
                </p>
                <scheduler_message level="error" code="SCHEDULER-451"/>
                <scheduler_message level="error" code="SCHEDULER-452"/>
                <scheduler_message level="error" code="SCHEDULER-453"/>
            </description>
        </revision>

        <revision type="modification" title="Entfernte Task-Ausführung: Spooler.directory, .log_dir, .ini_path und .include_path liefern Werte des entfernten Schedulers">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Spooler" property="directory"/>
                    </li>
                    <li>
                        <scheduler_method class="Spooler" property="log_dir"/>
                    </li>
                    <li>
                        <scheduler_method class="Spooler" property="ini_path"/>
                    </li>
                    <li>
                        <scheduler_method class="Spooler" property="include_path"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-195" type="correction" title="Job-Historie für Jobs in Ordnern korrigiert">
            <description>
                <p>
                    <scheduler_element name="show_job" attribute="what" value="task_history"/>
                    berücksichtigt jetzt den ganzen Pfad des Jobs.
                </p>
            </description>
        </revision>

        <revision jira="JS-196" type="correction" title="Einträge in der factory.ini auch für Jobs in Ordnern möglich">
            <description>
                <ul>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="job"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-11-15" version="2.0.191" subversion_revision="5386">
        <revision type="modification" title="Löschen der Jobkette, auf die eine übergeordnete verweist, liefert keine Warnung mehr">
            <description>
                <p>
                    Wenn eine Jobkette gelöscht wird, auf die eine übergeordnete Jobkette verweist,
                    wird letztere unbrauchbar, weshalb die Warnung
                    <code>SCHEDULER-424  'Job_chain xxx' is being removed before 'yyy'</code> ausgegeben wurde.
                    Die Meldung wird jetzt als Info ausgegeben.
                </p>
            </description>
        </revision>

        <revision jira="JS-180" type="correction" title="Java-Quellcode kann jetzt mit Blank im Classpath übersetzt werden">
            <description>
                <p>
                    Der JobScheduler setzt dazu die Umgebungsvariable <code>CLASSPATH</code>.
                </p>
            </description>
        </revision>

        <revision jira="JS-146" type="new" title="Jobstarts bei neuen, geänderten und gelöschen Konfigurationsdateien">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="config" attribute="configuration_add_event"/>
                    </li>
                    <li>
                        <scheduler_element name="config" attribute="configuration_modify_event"/>
                    </li>
                    <li>
                        <scheduler_element name="config" attribute="configuration_delete_event"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-11-12" version="2.0.190" subversion_revision="5382">
        <revision jira="JS-181" type="correction" title="Änderung der Großschreibung einer im Quellcode angegebenen Java-Klasse">
            <description>
                <p>
                    Unter Windows führte die Änderung der Großschreibung des Namens einer Java-Klasse zu einem Fehler, 
                    wenn deren Quell-Code direkt in <scheduler_element name="script" attribute="language" value="java"/> angegeben war.
                    Der JobScheduler löscht jetzt die generierte <code>.java</code>-Datei, um Windows zu der geänderten Großschreibungsweise zu zwingen.
                </p>
            </description>
        </revision>
    </change>


    <change date="2007-11-06" version="2.0.190" subversion_revision="5379">
        <revision type="modification" title="Veraltetes &lt;script process_class=&quot;...&quot;> wird nicht mehr unterstützt">
            <description>
                <p>
                    Verwenden Sie <scheduler_element name="job" attribute="process_class"/>.
                </p>
            </description>
        </revision>
        <!--<revision type="correction" title="Veraltetes &lt;script process_class=&quot;...&quot;> wirkt wieder">
            <description>
                <p>
                    Zur Kompatibilität kann im Element <scheduler_element name="script"/> die Prozessklasse eines Jobs eingestellt werden.
                    Das funktionierte seit mindestens Version 2.0.186.5190 (2007-08-31) nicht und ist jetzt korrigiert.
                </p>
            </description>
        </revision>-->
    </change>


    <change date="2007-11-03" version="2.0.190" subversion_revision="5375">
        <revision jira="JS-177" type="correction" title="Java-Methode Order.priority() korrigiert">
            <description>
                <p>
                    <scheduler_method class="Order" property="priority"/> ist jetzt unter Java benutzbar. 
                </p>
            </description>
        </revision>
    </change>

    
    <change date="2007-10-29" version="2.0.190" subversion_revision="5370">
        <revision jira="JS-155" type="modification" title="Lade- und Aktivierungsphase der dynamischen Konfiguration getrennt">
            <description>
                <p>
                    Die Objekte der Konfigurationsverzeichnisse werden erst geladen, dann aktiviert.
                    Damit können für <scheduler_element name="config" attribute="configuration_add_event"/> usw. Jobs
                    aus den Konfigurationsverzeichnissen benutzt werden.
                </p>
            </description>
        </revision>

        <revision jira="JS-155" type="modification" title="Kurzfristiges Löschen und Wiedereinfügen einer Datei wird als Änderung angesehen">
            <description>
                <p>
                    Wenn eine Datei in sehr kurzer Zeit gelöscht und wieder eingefügt wird,
                    interpretiert der JobScheduler das als Änderung, nicht als Löschen und Hinzufügen eines Objekts.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-10-28" version="2.0.190" subversion_revision="5365">
        <revision jira="JS-136" type="new" title="Authentifizierung für SMTP-Server (eMail-Versand)">
            <description>
                <p>
                   Der JobScheduler unterstützt Authentifizierung für den Versand von Mail via SMTP.
                </p>
                <p>
                    Der JobScheduler läuft nur mit der neuen Datei <code>sos.mail.jar</code>!
                </p>
                <ul>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="smtp"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-153" type="new" title="Neues Kommando &lt;check_folders&gt;">
            <description>
                <p>
                  Das Kommando veranlasst den JobScheduler, den Inhalt von Konfigurationsverzeichnissen (Hot Folders) zu prüfen, 
                  um geänderte, hinzugefügte oder entfernte Dateien sofort zu erkennen. Unter Windows wird dies sofort
                  erkannt, unter Unix wird dies innerhalb von max. 60s erkannt. Das Kommando ist in der HTML-Oberfläche
                  des JobSchedulers verfügbar.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="check_folders"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-149" type="new" title="Neues Attribut &lt;job_chain_node on_error=&quot;setback|suspend&quot;">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job_chain_node" attribute="on_error"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>
    
    <change date="2007-10-22" version="2.0.189" subversion_revision="5354">
        <revision jira="JS-147" type="new" title="Umgebungsvariablen für Tasks einstellbar">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job" child="environment"/>
                    </li>
                    <li>
                        <scheduler_element name="start_job" child="environment"/>
                    </li>
                </ul>
            </description>
        </revision>
        
        <revision jira="JS-148" type="new" title="Task- und Auftrags-Parameter für Nicht-API-Jobs">
            <description>
                <p>
                    Nicht-API-Jobs erhalten die Task- und Auftrags-Parameter als Umgebungsvariablen.
                    Die Namen sind großgeschrieben. 
                    "<code>SCHEDULER_PARAM_</code>" ist den Namen vorangestellt.
                    Auftragsparameter überschreiben gleichnamige Task-Parameter.
                </p>
            </description>
        </revision>

    </change>
    
    <change date="2007-10-10" version="2.0.187" subversion_revision="5325">
        <revision jira="JS-134" type="new" title="Mehrere JobScheduler Skripte">
            <description>
                <p>
                    Mit dem neuen XML-Element <scheduler_element name="scheduler_script"/>
                    lassen sich mehrere JobScheduler Skripte angegeben.
                </p>
            </description>
        </revision>

        <revision jira="JS-68" type="new" title="Mehrere Job-Monitor &lt;monitor>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="monitor"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-121" type="new" title="Monate in &lt;run_time>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="month"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-123" type="new" title="absolute_repeat= in &lt;run_time>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="period"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-124" type="new" title="Mehrfache angaben in day=, monthday= usw.">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="day"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="modification" title="Neue Voreinstellung &lt;add_order replace='yes'>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="add_order" attribute="replace" value="yes"/>:
                        <code>replace="yes"</code> ist jetzt voreingestellt.
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-155" type="new" title="Dynamische Konfiguration">
            <description>
                <ul>
                    <li>
                        <scheduler_a href="dynamic_configuration.xml" quote="yes"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-126" type="new" title="HTTP-Authentifizierung wird auch für Web-Services verlangt">
            <description>
                <p>
                    Die Authentifizierung <scheduler_element name="http.authentication"/> 
                    gilt auch für die über HTTP angesprochenen <scheduler_element name="web_service"/>.
                </p>
            </description>            
        </revision>

        <revision jira="JS-129" type="new" title="Datenbankspalte EXIT_CODE wird nachträglich angelegt"/>

        <revision jira="JS-116" type="correction" title="&lt;run_time> für Aufträge in verschachtelter Job-Kette">
            <description>
                <p>
                    <scheduler_element name="run_time"/> wiederholt jetzt einen Auftrag korrekt,
                    auch wenn er in einer verschachtelten Job-Kette (<scheduler_element name="job_chain_node.job_chain"/>) ist.
                </p>
            </description>
        </revision>
        
    </change>

    <change date="2007-08-30" version="2.0.186" subversion_revision="5189">
        <revision jira="JS-110" type="correction" title="Korrektur &quot;bad allocation&quot;"/>
    </change>
    
    <change date="2007-08-27" version="2.0.186" subversion_revision="5179">
        <revision jira="JS-103" type="new" title="HTTP-Authentifizierung eingeführt">
            <description>
                <p>
                    Neues XML-Element <scheduler_element name="http.authentication"/> eingeführt.
                    (Dank für den Algorithmus an Michael Collard, iinet.net.au).
                </p>
            </description>
        </revision>

        <revision type="modification" title="Meldung für verspäteten Herzschlag wird als Warnung ausgegeben">
            <description>
                <!--p>
                    Die Meldung <scheduler_message code="SCHEDULER-827"/> ist dennoch als Warnung zu verstehen,
                    denn ein anderer JobScheduler kann bei verspätetem Herzschlag annehmen,
                    dass dieser JobScheduler nicht mehr aktiv ist, und dessen Datenbankeintrag deaktivieren.
                    Daraufhin bricht der JobScheduler mit der Meldung <scheduler_message code="SCHEDULER-377"/> ab.
                    Der JobScheduler kann sich auch selbst abbrechen (Meldung <scheduler_message code="SCHEDULER-386"/>).
                </p-->
                <ul>
                    <li>
                        <scheduler_message level="warn" code="SCHEDULER-827"/>
                    </li>
                    <li>
                        <scheduler_message level="error" code="SCHEDULER-386"/>
                    </li>
                    <li>
                        <scheduler_message level="error" code="SCHEDULER-377"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>
    
    <change date="2007-08-24" version="2.0.185" subversion_revision="5170">
        <revision type="modification" title="Änderungen an der Datenbank">
            <description>
                <ul>
                    <li>
                        Mit der Tabelle <code>SCHEDULER_ORDER_HISTORY</code>
                        wird der neue Index <code>SCHEDULER_O_HISTORY_JOB_CHAIN</code> auf die Spalte <code>JOB_CHAIN</code>
                        angelegt.
                    </li>
                    <li>
                        Der bisherige Index <code>SCHEDULER_HISTORY_CLUSTMEMBER</code> wird jetzt als
                        <code>SCHEDULER_H_CLUSTER_MEMBER</code> angelegt.
                    </li>
                    <li>
                        Die Datenbankspalte <code>SCHEDULER_ORDERS.SPOOLER_ID</code> 
                        wird jetzt mit <code>not null</code> angelegt.
                    </li>
                    <li>
                        Für MySQL werden die Primärschlüsselfelder von
                        <code>SCHEDULER_ORDERS</code> mit dem Zeichensatz Latin1 angelegt.
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2007-08-23" version="2.0.184" subversion_revision="5167">
        <revision jira="JS-92" type="modification" title="idle_time=&quot;5&quot; ist jetzt voreingestellt">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="idle_timeout" value="never"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-88" type="modification" title="Neues Attribut max_order_history">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="show_state" attribute="max_order_history"/>
                    </li>
                    <li>
                        <scheduler_element name="show_job_chains" attribute="max_order_history"/>
                    </li>
                    <li>
                        <scheduler_element name="show_job_chain" attribute="max_order_history"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-97" type="modification" title="Meldungen wegen später gelöschter Dateien jetzt als debug3">
            <description>
                <p>
                    Zwei Meldung werden mit debug3 statt bisher info ausgegeben:
                </p>
                <ul>
                    <li>
                        <scheduler_message level="debug3" code="SCHEDULER-876" show_text="yes"/>
                    </li>
                    <li>
                        <scheduler_message level="debug3" code="SCHEDULER-877" show_text="yes"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jira="JS-96" type="correction" title="HTML-codierte Protokolle über HTTP enthalten wieder die Zeichen &lt;, > und &amp;"/>

        <revision jira="JS-93" type="correction" title="Meldung SCHEDULER-846 korrigiert">
            <description>
                <ul>
                    <li>
                        <scheduler_message code="SCHEDULER-846" show_text="yes"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2007-08-10" version="2.0.183" subversion_revision="5153">
        <revision jira="JS-48" type="modification" title="Nicht-API-Jobs versetzen im Fehlerfall Auftrag in den Fehlerzustand">
            <description>
                <p>
                    Im Fehlerfall eines auftragsgesteuerten Nicht-API-Jobs
                    (<scheduler_element name="process"/> oder <scheduler_element name="script" attribute="language" value="shell"/>)
                    wird der ausgeführte Auftrag in den Fehlerzustand 
                    (<scheduler_element name="job_chain_node" attribute="error_state"/>) versetzt.
                    Davon unberührt stoppt der Job
                    (außer bei <scheduler_element name="job" attribute="stop_on_error" value="no"/>
                    oder <scheduler_element name="delay_after_error"/>).
                </p>
            </description>
        </revision>

        <revision jira="JS-82" type="correction" title="Unix: Viele &lt;start_when_directory_changed> blockieren nicht mehr den Scheduler">
            <description>
                <p>
                    Unter Unix konnten viele Verzeichnisüberwachungen mit <scheduler_element name="start_when_directory_changed"/> 
                    den JobScheduler so beschäftigen, dass die Tasks nicht mehr fortgesetzt wurden.
                    Das ist behoben.
                </p>
            </description>
        </revision>

        <revision jira="JS-81" type="correction" title="Date-Header fehlte beim Erzeugen der eMail mit JavaMail ohne Versand">
            <description>
                <p>
                    EMails, die der JobScheduler mit JavaMail erzeugt und im Mail-Verzeichnis abgelegt, also nicht versendet hat,
                    haben jetzt auch einen Date-Header.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-07-27" version="2.0.182" subversion_revision="5146">
        <revision jira="JS-78" type="modification" title="Scheduler-Skript wird vor &lt;commands> ausgeführt">
            <description>
                <p>
                    Erst wird das Scheduler-Skript <scheduler_element name="config" child="script"/> ausgeführt, 
                    dann <scheduler_element name="config" child="commands"/>.
                    Damit kann <scheduler_element name="run_time" attribute="start_time_function"/> 
                    berechnet werden, bevor die Aufträge in der Datenbank abgelegt werden. 
                </p>
            </description>
        </revision>

        <revision jira="JS-78" type="new" title="Verteilte Aufträge mit &lt;run_time> möglich">
            <description>
                <p>
                    Verteilte Aufträge können <scheduler_element name="run_time"/> nutzen.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-07-24" version="2.0.181" subversion_revision="5143">
        <revision jira="JS-49" type="modification" title="Für die Datenbank DB2 wird der Datentyp numeric(1) statt bisher boolean verwendet"/>
        
        <revision jira="JS-55" type="correction" title="&lt;job tasks='0'> startet keine Task mehr">
            <description>
                <p>
                    Auch im Zustand <code>pending</code> prüft der JobScheduler das Attribut
                    <scheduler_element name="job" attribute="tasks"/>
                    Bei <code>tasks="0"</code> startet er keine Task.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-07-23" version="2.0.180" subversion_revision="5139">
        <revision jira="JS-39" type="modification" title="scheduler.log.gz wird nicht mehr erzeugt">
            <description>
                <p>
                    Solange nicht implementiert ist, 
                    dass der JobScheduler die <code>scheduler.log.gz</code> im Hintergrund erzeugt, 
                    erzeugt er sie erstmal gar nicht, weil das den Start zu lange verzögern kann.
                </p>
            </description>
        </revision>

        <revision jira="JS-41" type="new" title="Urls im HTML-Protokollfenster sind klickbar">
            <description>
                <p>
                    Urls in einem über HTTP in HTML gelieferten Protokoll sind klickbar.
                    Der JobScheduler erkennt das Kennzeichen <code>http://</code> und
                    setzt den Url in ein <code>&lt;a href="…" target="_blank">...&lt;/a></code>
                </p>
            </description>
        </revision>

        <!--revision type="new" title="Verteilte Aufträge eine &lt;run_time> haben">
            <description>
                <p>
                </p>
            </description>
        </revision-->
    </change>

    <change date="2007-07-23" version="2.0.179" subversion_revision="5136">
        <revision jira="JS-52" type="modification" title="Nicht für XML zugelassene Zeichen werden durch ¿ ersetzt">
            <description>
                <p>
                    Die Zeichen U-0 bis U-1F (außer U-9, U-A, U-D) und U-80 bis U-9F 
                    ersetzt der JobScheduler beim Erzeugen eines XML-Dokuments durch ¿, damit es nicht ungültig wird.
                    Alle anderen Zeichen des Zeichenvorrats Latin1 (ISO-8859-1) werden weiter unterstützt.
                </p>
            </description>
        </revision>

        <!--revision type="new" title="Verteilte Aufträge eine &lt;run_time> haben">
            <description>
                <p>
                </p>
            </description>
        </revision-->
    </change>

    <change date="2007-07-17" version="2.0.178" subversion_revision="5132">
        <revision jira="JS-42" type="modification" title="Prozess-Jobs setzen Job.state_text und Order.state_text">
            <description>
                <p>
                    Der JobScheduler füllt nach Beendigung eines Prozess-Jobs 
                    (<scheduler_element name="process"/> und <scheduler_element name="script" attribute="language" value="shell"/>,
                    also nicht API-Jobs) 
                    <scheduler_method class="Job" property="state_text"/> und
                    <scheduler_method class="Order" property="state_text"/> 
                    mit der ersten Zeile von stdout, max. 100 Zeichen.
                </p>
            </description>
        </revision>

        <revision type="new" title="Datenbank-Indices werden automatisch angelegt">
            <description>
                <p>
                    Der JobScheduler legt jetzt zusammen mit den Datenbanktabellen auch die Indices an.
                </p>
            </description>
        </revision>

        <revision type="new" title="Create-tables in die Dokumentation aufgenommen">
            <description>
                <ul>
                    <li>
                        <scheduler_a href="scheduler_sql.xml" quote="yes"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision jire="JS-45" type="correction" title="Umgang mit Backslash in MySQL">
            <description>
                <p>
                    Beim Betrieb mit einer MySQL-Datenbank
                    berücksichtigt der JobScheduler die Besonderheit der Backslashs in MySQL-Strings.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2007-07-13" version="2.0.177" subversion_revision="5128">
        <revision jira="JS-23" type="modification" title="Tasks warten auf gesperrte temporäre Dateien für stdout und stderr">
            <description>
                <p>
                    Nur Windows:
                    Der JobScheduler verzögert das Ende einer Task eine halbe Sekunde,
                    bis die für <code>stdin</code>, <code>stdout</code> und <code>stderr</code>
                    angelegten temporären Dateien löschbar sind.
                    Die Dateien können von Enkelprozessen blockiert sein, 
                    die der Task-Prozess gestartet hat
                    und die nach Task-Ende noch weiterlaufen.
                    Oder ein Virenscanner hält die Dateien noch einen kurzen Moment fest.
                </p>
                <scheduler_message level="debug3" code="SCHEDULER-876"/>
                <scheduler_message level="debug3" code="SCHEDULER-877"/>
                <scheduler_message level="info" code="SCHEDULER-878"/>
            </description>
        </revision>

        <revision jira="JS-47" type="modification" title="&lt;security> in &lt;base> nutzbar">
            <description>
                <p>
                    <scheduler_element name="security"/> in oberer Konfiguration ersetzt nicht mehr 
                    die Einstellung aus der <scheduler_element name="base"/>-Konfiguration
                    sondern wird mit dieser vermengt.
                </p>
            </description>
        </revision>

        <revision type="modification" title="abort_immediately_and_restart zögert 2 Sekunden">
            <description>
                <p>
                    <scheduler_element name="modify_spooler" attribute="cmd" value="abort_immediately_and_restart"/>
                    schließt wie bisher die TCP-Verbindungen und wartet dann 2 Sekunden,
                    um dem Internet Explorer die Gelegenheit zu geben,
                    seinerseits die TCP-Verbindung zu schließen,
                    um nicht zu blockieren.
                </p>
            </description>
        </revision>

        <revision type="modification" title="distributed='no', Cluster-Member-ID ist nur noch für Rechnername und Port eindeutig">
            <description>
                <p>
                    Ein Verteilter JobScheduler (<scheduler_option name="distributed-orders"/>)
                    führt Jobs lokal im einzelnen JobScheduler aus.
                </p>
                <p>
                    Für eine Job-Kette kann mit <scheduler_element name="job_chain" attribute="distributed"/>
                    eingestellt werden, ob sie lokal im einzelnen JobScheduler oder verteilt im ganzen Cluster gilt.
                    Lokale Job-Ketten <i>müssen</i> im Cluster einen eindeutigen Namen haben
                    (das wird nicht geprüft).
                </p>
                <p>
                    Bisher war die Cluster-Member-ID für jeden Lauf eines Schedulers (eines Cluster-Mitglieds) eindeutig.
                    Jetzt wird die ID aus Scheduler-ID, Rechnernamen und TCP-Portnummer gebildet.
                    Zwei Rechner im selben Cluster dürfen nicht denselben Rechnernamen haben.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-07-01" version="2.0.176" subversion_revision="5116">
        <revision type="modification" title="Linux-Scheduler wird unter Suse 9.1 kompiliert">
            <description>
                <p>
                    Die ausgelieferten Binär-Dateien laufen jetzt unter Suse ab Version 9.1 (bisher 8.0).
                    Bisher ist die Linux-Software unter Suse 8.0 kompiliert worden.
                </p>
            </description>
        </revision>
        
        <revision type="modification" title="orders_recoverable='no' unterdrückt nicht mehr Auftragshistorie">
            <description>
                <p>
                    <scheduler_element name="job_chain" attribute="orders_recoverable" value="no"/>.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-06-21" version="2.0.176" subversion_revision="5105">
        <revision type="correction" title="Zur Laufzeit hinzugefügtes &lt;file_order_source> wirkt">
            <description>
                <p>
                    Eine zur Laufzeit hinzugefügte
                    <scheduler_element name="job_chain"/> mit 
                    <scheduler_element name="file_order_source"/> 
                    hat nicht automatisch gestartet.
                    Das ist behoben.
                </p>
            </description>
        </revision>

        <revision type="modification" title="need_db=no nicht länger im Cluster-Betrieb erlaubt">
            <description>
                <ul>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="spooler" entry="need_db"/>
                    </li>
                    <li>
                        <scheduler_option name="exclusive"/>
                    </li>
                    <li>
                        <scheduler_option name="distributed-orders"/>
                    </li>
                    <li>
                        <scheduler_message code="SCHEDULER-357" show_text="yes"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2007-06-18" version="2.0.176" subversion_revision="5101">
        <revision type="correction" title="-distributed-orders und Order.setback()">
            <description>
                <p>
                    Ein verteilter Auftrag mit Startzeit (z.B. durch <scheduler_method class="Order" method="setback"/>)
                    konnte nach Neustart den JobScheduler in eine Schleife bringen. Das ist behoben.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-06-06" version="2.0.176" subversion_revision="5087">
        <revision type="new" title="Aufträgskennungen werden in allen verschachtelten Job-Ketten auf Eindeutigkeit geprüft">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job_chain_node.job_chain"/>
                    </li>
                </ul>
                <p>
                    Miteinander durch Verschachtelung verbundene Job-Ketten bilden einen gemeinsamen <i>Order_id_space</i>,
                    um beim Einfügen eines Auftrags die Eindeutigkeit der Auftragskennung sicherstellen zu können.
                </p>
                <p>
                    Der JobScheduler lehnt das Einfügen eines Auftrags in eine Job-Kette ab,
                    wenn die Auftragskennung im Order_id_space bereits vergeben ist.
                </p>
                <p>
                    Beim Ersetzen eines Auftrags wird auch ein Auftrag in einer anderen Job-Kette,
                    die demselben Order_id_space angehört,
                    ersetzt.
                </p>
                <scheduler_message level="error" code="SCHEDULER-426"/>
                <scheduler_message level="info" code="SCHEDULER-872"/>
                <scheduler_message level="info" code="SCHEDULER-873"/>
                <scheduler_message level="info" code="SCHEDULER-874"/>
                <scheduler_message level="info" code="SCHEDULER-875"/>
            </description>
        </revision>

        <revision type="modification" title="-send-cmd= berücksichtigt -ip-address=">
            <description>
                <p>
                    <scheduler_option name="send-cmd"/> berücksichtigt <scheduler_element name="config" attribute="ip_address"/>.
                </p>
            </description>
        </revision>
    </change>

    <change date="2007-05-09" version="2.0.175" subversion_revision="5045">
        <revision type="modification" title="MySQL-Tabellen werden für InnoDB angelegt">
            <description>
                <p>
                    Wenn der JobScheduler eine SQL-Tabelle in einer MySQL-Datenbank automatisch anlegt,
                    verwendet er jetzt den transaktions-sicheren Typ InnoDB.
                </p>
                <p>
                    Der JobScheduler läuft nur korrekt mit transaktions-gesicherten Datenbanken.
                </p>
            </description>
        </revision>

        <revision type="modification" title="&lt;add_order at='...'>">
            <description>
                <p>
                    Die mit dem Auftrag übergebene Startzeit 
                    <scheduler_element name="add_order" attribute="at"/> 
                    wird nicht mehr durch
                    <scheduler_element name="add_order" child="run_time"/> überschrieben.
                </p>
            </description>
        </revision>

        <revision type="new" title="Neue Eigenschaft Order.log">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="log"/>
                        liefert das Auftragsprotokoll.
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Neue Klasse Supervisor_client">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Spooler" property="supervisor_client"/>
                    </li>
                    <li>
                        <scheduler_method class="Supervisor_client"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="XML-Kommandos und API für Prozessklassen">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Spooler" property="process_classes"/>
                    </li>
                    <li>
                        <scheduler_method class="Process_classes"/>
                    </li>
                    <li>
                        <scheduler_method class="Process_class"/>
                    </li>
                    <li>
                        <scheduler_method class="Job" property="process_class"/>
                    </li>
                    <li>
                        <scheduler_element name="process_class"/>
                    </li>
                    <li>
                        <scheduler_element name="process_class.remove"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-04-27" version="2.0.174" subversion_revision="5001">
        <revision type="new" title="API für Sperren">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Spooler" property="locks"/>
                    </li>
                    <li>
                        <scheduler_method class="Locks"/>
                    </li>
                    <li>
                        <scheduler_method class="Lock"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-04-16" version="2.0.172" subversion_revision="4983">
        <revision type="new" title="Verschachtelte Job-Ketten">
            <description>
                <p>
                    Ein Auftrag kann nacheinander durch mehrere Job-Ketten geschleust werden.
                    Diese Job-Ketten werden in einer eigenen, übergeordneten Job-Kette aufgeführt.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job_chain_node.job_chain"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-04-16" version="2.0.171" subversion_revision="4981">
        <revision type="new" title="Mehrere Sperren und &lt;lock.remove>">
            <description>
                <p>
                    Ein Job kann mehrere Sperren setzen und Sperren können gelöscht werden.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="lock.remove"/>
                    </li>
                    <li>
                        <scheduler_element name="job"/>
                        <scheduler_element name="lock.use"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-04-09" version="2.0.171" subversion_revision="4961">
        <revision type="new" title="Job-Kette und Job-Kettenknoten stoppen">
            <description>
                <p>
                    Eine Job-Kette kann gestoppt werden, so dass keine Aufträge mehr ausgeführt werden.
                </p>
                <p>
                    Ein Job-Kettenknoten kann gestoppt werden, so dass Aufträge nicht mehr ausgeführt werden.
                    Oder die Aufträge überspringen den Job-Kettenknoten.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job_chain.modify"/>
                    </li>
                    <li>
                        <scheduler_element name="job_chain_node.modify"/>
                    </li>
                    <li>
                        <scheduler_method class="Job_chain_node" property="action"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-04-03" version="2.0.170" subversion_revision="4951">
        <revision type="new" title="&lt;show_calendar>">
            <description>
                <p>
                    Ein neues Kommando liefert die Startzeiten der Jobs und Aufträge.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="show_calendar"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-04-01" version="2.0.169" subversion_revision="4940">
        <revision type="new" title="Sperren">
            <description>
                <p>
                    Mit Sperren kann der Ablauf von Tasks serialisiert werden, 
                    siehe Kapitel <scheduler_a href="lock.xml" quote="yes"/>.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="lock"/>
                    </li>
                    <li>
                        <scheduler_element name="job"/><scheduler_element name="lock.use"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-03-19" version="2.0.168" subversion_revision="4912">
        <revision type="new" title="Ausführung von Tasks auf entferntem Scheduler">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="process_class" attribute="remote_scheduler"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-03-08" version="2.0.167" subversion_revision="4877">
        <revision type="correction" title="Auftragsprokolle wurden nicht immer in die Historie aufgenommen">
            <description>
                <p>
                    Ein Fehler seit 15. Februar, ist behoben.
                </p>
            </description>
        </revision>
    </change>


    <change date="2007-02-22" version="2.0.167" subversion_revision="4861">
        <revision type="new" title="XML-Kommando &lt;modify_order> erweitert">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="modify_order"/> kann jetzt auch Parameter, Xml_payload und Titel ändern.
                    </li>
                    <li>
                        <scheduler_element name="xml_payload"/> darf jetzt leer sein.
                    </li>
                </ul>
            </description>
        </revision>
    </change>
    
    
    <change date="2007-02-19" version="2.0.166" subversion_revision="4860">
        <revision type="modification" title="XML-Element &lt;web_services> heißt jetzt &lt;http_server>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="http_server"/>
                    </li>
                    <li>
                        <scheduler_message level="info" code="SCHEDULER-847"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="modification" title="mail_on_delay_after_error wirkt nur noch mit &lt;delay_after_error>">
            <description>
                <p>
                    <scheduler_ini_entry file="factory.ini" section="job" entry="mail_on_delay_after_error"/> wirkt nur,
                    wenn für den Job auch ein <scheduler_element name="delay_after_error"/> gesetzt ist.
                </p>
            </description>
        </revision>

        <revision type="modification" title="Meldung SCHEDULER-949">
            <description>
                <ul>
                    <li>
                        <scheduler_message level="info" code="SCHEDULER-949"/>
                    </li>
                </ul>
                <p>
                    Die Meldung  erscheint jetzt im Jobprotokoll
                    und, wenn eine Task gestartet werden soll, mit der Task-Id.
                </p>
            </description>
        </revision>

        <revision type="modification" title="&lt;script> und &lt;base>">
            <description>
                <p>
                    Das Element <scheduler_element name="script"/>, in einer <scheduler_element name="base"/>-Konfiguration definiert,
                    wird jetzt von der übergeordneten Konfiguration nicht mehr ersetzt, sondern erweitert.
                    (Das funktioniert nicht mit Java wegen dessen Syntax.)
                    Damit können in der <scheduler_element name="base"/>-Konfiguration Funktionen definiert werden,
                    die in einer übergeordneten Konfiguration nutzbar sind.
                </p>
            </description>
        </revision>

        <revision type="modification" title="Auftragsprokolle bei Scheduler-Neustart">
            <description>
                <p>                                     l
                    Die Protokolle nicht abgeschlossener Aufträge bleiben jetzt bei Scheuler-Neustart erhalten 
                    und werden fortgeschrieben.
                    Dazu werden sie in der Datenbank gespeichert.
                </p>
            </description>
        </revision>
    </change>
        
    <change date="2007-02-12" version="2.0.165" subversion_revision="4846">
        <revision type="modification" title="Order.state">
            <description>
                <p>
                    Wenn <scheduler_method class="Order" property="state"/> der bisherige Wert zugewiesen wird,
                    der Zustand also nicht verändet wird,
                    verhindert das wie jeder andere Wert die automatische Weiterschaltung in den Folgezustand 
                    nach <scheduler_method class="Job_impl" method="spooler_process"/>.
                    Stattdessen durchläuft der Auftrag denselben Job noch einmal.
                </p>
            </description>
        </revision>
        
        <revision type="new" title="HTTP-Server mit Alias-Verzeichnissen">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="http_server" child="http_directory"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Verzögernde Job-Kettenknoten">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job_chain_node" attribute="delay"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;show_order> kann Historien-Einträge zum selben Auftrag unterscheiden">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="show_order" attribute="history_id"/>
                    </li>
                </ul>
                <p>
                    Damit kann die HTML-Oberfläche das richtige Protokoll zeigen, wenn ein Auftrag mehreren Historieneinträge hat.
                </p>
                <p>
                    Das Kommando liefert jetzt auch die neuen Attribute <code>start_time=</code> 
                    (erste Ausführung) und <code>end_time=</code> (Abschluss des Auftrags).
                    Die integrierte HTML-Oberfläche (<code>http://</code>host<code>:4444/z</code>) zeigt den Zeitpunkt der Abschlusses.
                </p>
            </description>
        </revision>

        <revision type="new" title="HTML-Oberfläche zeigt Zeiten genauer">
            <description>
                <p>
                    Die integrierte HTML-Oberfläche (<code>http://</code>host<code>:4444/z</code>)
                    zeigt Sekundenzeiten bis 99s und darüber hinaus Viertelbruchteile.
                </p>
            </description>
        </revision>

        <revision type="modification" title="&lt;job stop_on_error='no'> versetzt nach Exception Auftrag in Fehlerzustand">
            <description>
                <p>
                    <scheduler_element name="job" attribute="stop_on_error" value="no"/> 
                    versetzt nach einem Abbruch der Task mit Exception den Auftrag in den Fehlerzustand
                    (<scheduler_element name="job_chain_node" attribute="error_state"/>).
                </p>
                <p>
                    Dokumentation geändert: <code>stop_on_error="no"</code> gilt auch für Task-Abbruch mit Exception.
                </p>
                <scheduler_message level="warn" code="SCHEDULER-845"/>
                <scheduler_message level="warn" code="SCHEDULER-846"/>
            </description>
        </revision>
    </change>
    
    
    <change date="2007-02-01" version="2.0.163" subversion_revision="4829">
        <revision type="correction" title="Address-in-use-Problem unter Windows gelöst">
            <description>
                <p>
                    Enkel-Prozesse, die der JobScheduler nicht kennt und also nicht abbrechen kann,
                    blockierten bislang die Scheduler-Ports.
                    Jetzt sind diese nicht mehr vererbbar und können von den Enkeln auch nicht mehr blockiert werden.
                </p>
                <p>
                    Die temporären Dateien für stdout und stderr bleiben dagegen unter Windows in einem solchen Fall stehen.
                </p>
            </description>
        </revision>

        <revision type="error" title="Temporäre Dateien bleiben stehen, wenn Enkel-Prozesse noch laufen">
            <description>
                <p>
                    Windows: 
                    Enkel-Prozesse, die der JobScheduler nicht kennt und also nicht abbrechen kann,
                    blockieren die temporären Dateien für stdout und stderr 
                    und können deshalb vom JobScheduler nicht gelöscht werden.
                </p>
            </description>
        </revision>
    </change>

    
    <change date="2007-01-30" version="2.0.163" subversion_revision="4810">
        <revision type="new" title="&lt;file_order_sink move_to=&quot;&quot; akzeptiert Umgebungsvariablen">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="file_order_sink" attribute="move_to"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    
    <change date="2007-01-27" version="2.0.163" subversion_revision="4793">
        <revision type="new" title="Skript-Funktion für nächste Startzeit">
            <description>
                <p>
                    Mit <scheduler_element name="run_time" attribute="start_time_function"/>
                    kann eine Funktion aus dem Scheduler-Skript angegeben werden,
                    die die nächste Startzeit liefert.
                </p>
            </description>
        </revision>

        <!--revision type="modification" title="Job_chain.order_count und Order_queue.length sind im Scheduler-Skript 0">
            <description>
                <p>
                    Bei nicht verteilten Aufträgen lädt der JobScheduler die Aufträge 
                    erst nach der Ausführung des Scheduler-Skripts
                    aus der Datenbank.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Job_chain" property="order_count"/>
                    </li>
                    <li>
                        <scheduler_method class="Order" property="length"/>
                    </li>
                </ul>
            </description>
        </revision-->
    </change>


    <change date="2007-01-25" version="2.0.163" subversion_revision="4792">
        <revision type="new" title="Wochentag im Monat: &lt;monthdays>&lt;weekday>">
            <description>
                <p>
                    <scheduler_element name="run_time"/> ist erweitert:
                    Mit <scheduler_element name="weekday" attribute="day" attribute2="which"/>
                    können bestimmte Wochentage im Monat ausgewählt werden.
                </p>
                <p>
                    Mit <scheduler_element name="run_time" attribute="start_time_function"/> 
                    kann eine Funktion aus dem Scheduler-Skript angegeben werden,
                    die die nächste Startzeit liefert.
                </p>
            </description>
        </revision>

        <revision type="modification" title="Solaris: Neue Module libstdc++.so.6.0.8 und libgcc_s.so.1">
            <description>
                <p>
                    Weil der JobScheduler für Solaris jetzt mit gcc 4.1.1 übersetzt wird,
                    werden die neuen Module libstdc++.so.6.0.8 und libgcc_s.so.1 benötigt.
                    Ein symbolischer Link muss eingerichtet werden:
                </p>
                <pre>ln -s libstdc++.so.6.0.8 libstd++.so.6</pre>
            </description>
        </revision>
    </change>

    
    <change date="2007-01-22" version="2.0.163" subversion_revision="4781">
        <revision type="new" title="Order.params initialisiert sich automatisch">
            <description>
                <p>
                    <scheduler_method class="Order" property="params"/> initialisiert sich beim ersten Zugriff
                    automatisch mit einer <scheduler_method class="Variable_set"/>.
                </p>
            </description>
        </revision>
        
        <revision type="new" title="Spooler.terminate() mit Parametern für Cluster-Betrieb">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Spooler" method="terminate"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="modification" title="Jobs ohne &lt;run_time> berücksichtigen jetzt die &lt;holidays>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="holidays"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Verwaltung der Feiertage in externer Datei: &lt;holidays> mit &lt;include>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="holidays" child="include"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2007-01-19" version="2.0.163" subversion_revision="4758">
        <revision type="new" title="Cluster: Fristen zur Überwachung des Herzschlags sind einstellbar">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="cluster"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;file_order_source> lässt Umgebungsvariablen zu">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="file_order_source" attribute="directory"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Neue Einstellung mail_on_delay_after_error">
            <description>
                <ul>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="spooler" entry="mail_on_delay_after_error"/>
                    </li>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="job" entry="mail_on_delay_after_error"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Optionen -?, -h und -V">
            <description>
                <ul>
                    <li>
                        <scheduler_option name="?"/> zeigt die möglichen Optionen
                    </li>
                    <li>
                        <scheduler_option name="h"/> zeigt ebenfalls möglichen Optionen
                    </li>
                    <li>
                        <scheduler_option name="V"/> zeigt die Versionsnummer.
                    </li>
                </ul>
                <p>
                    Wenn keine anderen Optionen angegeben sind, beendet sich der JobScheduler sofort.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Speicherleck in Java geschlossen">
            <description>
                <p>
                    Ein winziges, aber stetiges Speicherleck ist abgedichtet.
                    Insbesondere bei jeder Datenbankoperation (über JDBC) blieben einige Bytes übrig.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Speicherleck bei stdout/stderr-Dateien geschlossen">
            <description>
                <p>
                    Unter Unix wurden temporäre Dateien nicht korrekt geschlossen,
                    wenn eine Task etwas nach stdout oder stderr geschrieben hat.
                    Das ist behoben.
                </p>
            </description>
        </revision>
    </change>


    <change date="2007-01-12" version="2.0.162" subversion_revision="4730">
        <revision type="new" title="Cluster: Backup-Scheduler und verteilte Aufträge (noch nicht für Produktion)">
            <description>
                <ul>
                    <li>
                        <scheduler_a href="backupscheduler.xml" quote="yes"/>
                    </li>
                    <li>
                        <scheduler_option name="exclusive"/>
                    </li>
                    <li>
                        <scheduler_option name="backup"/>
                    </li>
                    <li>
                        <scheduler_option name="backup-precedence"/>
                    </li>
                    <li>
                        <scheduler_option name="install-service"/>
                    </li>
                    <li>
                        <scheduler_option name="distributed-orders"/> 
                    </li>
                    <li>
                        <scheduler_element name="terminate" attribute="restart"/>
                    </li>
                    <li>
                        <scheduler_element name="terminate" attribute="timeout"/>
                    </li>
                    <li>
                        <scheduler_element name="terminate" attribute="continue_exclusive_operation"/>
                    </li>
                    <li>
                        <scheduler_element name="terminate" attribute="all_schedulers"/>
                    </li>
                    <li>
                        <scheduler_element name="job_chain" attribute="distributed" value="yes"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="debug9 protokolliert SQL-Kommandos">
            <description>
                <p>
                    Bei <scheduler_option name="log-level" value="debug9"/> schreibt der JobScheduler seine SQL-Kommandos ins Hauptprotokoll.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Order.xml_payload akzeptiert ISO-8859-1">
            <description>
                <p>
                    <scheduler_method class="Order" property="xml_payload"/> 
                    akzeptiert jetzt den Zeichensatz ISO-8859-1 auch im Datenbankbetrieb.
                </p>
            </description>
        </revision>

        <revision type="correction" title="setback() funktioniert korrekt">
            <description>
                <p>
                    Korrektur der fehlerhaften Version 2.0.160.4598 2006-11-22.
                </p>
            </description>
        </revision>

    </change>

    
    <change date="2006-12-04" version="2.0.161" subversion_revision="4619">
        <revision type="new" title="&lt;config ip_address=&quot;...&quot;>">
            <description>
                <p>
                    Die IP-Adresse für TCP und UDP kann angegeben werden.
                </p>
                <ul>
                    <li>
                        <scheduler_option name="ip-address"/>
                    </li>
                    <li>
                        <scheduler_element name="config" attribute="ip_address"/>
                    </li>
                </ul>

            </description>
        </revision>

        <revision type="new" title="Wartende Aufträge fortsetzen>">
            <description>
                <p>
                    <scheduler_element name="modify_order" attribute="at" value="now"/>
                    setzt einen wegen 
                    <scheduler_method class="Order" property="run_time"/>
                    oder
                    <scheduler_method class="Order" method="setback"/>
                    wartenden Auftrag fort.
                </p>
            </description>
        </revision>

        <revision type="new" title="Order.suspend()">
            <description>
                <p>
                    Aufträge können angehalten werden.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="suspended"/>
                    </li>
                    <li>
                        <scheduler_element name="modify_order" attribute="suspended"/>
                    </li>
                </ul>

            </description>
        </revision>

        <revision type="modification" title="&lt;copy_params from=&quot;order&quot;>">
            <description>
                <p>
                    <scheduler_element name="copy_params" attribute="from" value="order"/>
                    akzeptiert jetzt auch Aufträge ohne Parameter.
                </p>
            </description>
        </revision>
    </change>

    <change date="2006-11-22" version="2.0.160" subversion_revision="4598">
        <revision type="error" title="Order.setback()">
            <description>
                <p>
                    <scheduler_method class="Order" method="setback"/> bricht in dieser Version den JobScheduler ab
                    (korrigiert in 2.0.162.4705 von 2007-01-05).
                </p>
            </description>
        </revision>

        <revision type="correction" title="&lt;show_order what=&quot;log&quot;>">
            <description>
                <p>
                    Das Kommando liefert jetzt auch das Protokoll ausgeführten Auftrags aus der Auftragshistorie.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="show_order" attribute="what" value="log"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="Order.state und Order.run_time">
            <description>
                <p>
                    Eine Änderung des Zustands eines Auftrags (<scheduler_method class="Order" property="state"/>)
                    führt nicht mehr zur sofortigen Ausführung desselben, 
                    wenn seine <scheduler_method class="Order" property="run_time"/> 
                    eine spätere Startzeit vorschreibt.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="state"/>
                    </li>
                    <li>
                        <scheduler_method class="Order" property="run_time"/>
                    </li>
                    <li>
                        <scheduler_element name="modify_order" attribute="state"/>
                    </li>
                    <li>
                        <scheduler_element name="modify_order" child="run_time"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-10-06" version="2.0.160" subversion_revision="4592">
        <revision type="new" title="&lt;show_state what=&quot;job_params&quot;>">
            <description>
                <p>
                    Die XML-Kommandos können jetzt die <scheduler_element name="params"/> eines <scheduler_element name="job"/> liefern.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="show_state" attribute="what" value="job_params"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-10-03" version="2.0.160" subversion_revision="4591">
        <revision type="correction" title="Auftrag ohne Parameter in der Datenbank ließ JobScheduler abbrechen">
            <description>
                <p>
                    Der Fehler ist mit den Dateiaufträgen (Version 2.0.158.4484 2006-09-13)
                    in den JobScheduler gelangt und jetzt behoben.
                </p>
            </description>
        </revision>

        <revision type="modification" title='Scheduler braucht seit 26. September 2006 eine aktuelle sos.mail.jar'>
            <description>
                <p>
                    Die Datei <code>sos.mail.jar</code> sollte nicht älter als 
                    Version 1.6.131.4555 (Dateidatum 2006-09-25 09:00) sein.
                </p>
            </description>
        </revision>
    </change>


    <change date="2006-10-30" version="2.0.160" subversion_revision="4586">
        <revision type="new" title="&lt;modify_order>&lt;run_time>">
            <description>
                <p>
                    Die <scheduler_element name="run_time"/> eines Auftrags kann für den nächsten Durchlauf neu gesetzt werden.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="modify_order" child="run_time"/>
                    </li>
                    <li>
                        <scheduler_method class="Order" property="run_time"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title='&lt;job replace="yes">'>
            <description>
                <p>
                    Ein Job kann ersetzt werden.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="replace" value="yes"/>
                    </li>
                    <li>
                        <scheduler_element name="add_jobs"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-10-16" version="2.0.159" subversion_revision="4578">
        <revision type="modification" title="Variablenersetzung verfeinert">
            <description>
                <p>
                    Alleinstehende <code>$</code> bleiben stehen.
                    Das Zeichen wird nur dann ersetzt, wenn ein Buchstabe oder ein Unterstrich folgt.
                    Damit kann ein Dollarzeichen in Windows-Freigaben (<code>"\\HOST\C$"</code>) und 
                    vielen Regulären Ausdrücken 
                    (<code>".txt$"</code>, <code>"[a-z$]"</code>, aber nicht <code>"[$a-z]"</code>)
                    verwendet werden.                    
                </p>
                <ul>
                    <li>
                        Kapitel <scheduler_a href="variable_substitution.xml" quote="yes"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;modify_order setback=&quot;no&quot; state=&quot;…&quot;>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="modify_order" attribute="setback" value="no"/>
                    </li>
                    <li>
                        <scheduler_element name="modify_order" attribute="state"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    
    <change date="2006-10-11" version="2.0.158" subversion_revision="4569">
        <revision type="new" title="&lt;show_order what='payload'/>">
            <description>
                <p>
                    <scheduler_element name="show_order" attribute="what" value="payload"/>
                    liefert die Parameter des Auftrags.
                </p>
            </description>
        </revision>

        <!--revision type="correction" title="Subprocess.env()">
            <description>
                <p>
                    Der Mechanismus ist überarbeitet worden, 
                    um eine Unverträglichkeit mit sos.hostware.Process_with_pid auszuräumen.
                </p>
            </description>
        </revision-->
        
        <revision type="correction" title="Protokolldateien werden früher gelöscht">
            <description>
                <p>
                    Der neue JobScheduler entfernt die Protokolldateien früher,
                    auch wenn das entsprechende Objekt (in der Regel ein <scheduler_method class="Order"/>)
                    noch gehalten wird.
                </p>
                <p>
                    Mit einem Javascript-Job konnte folgendes passieren:
                    Wenn dieselbe Task nacheinander zwei Aufträge mit derselben Id bekam,
                    hielt sie wegen des noch nicht angelaufenen Garbage Collectors
                    die zwei Aufträge offen. 
                    Erst beim Beenden der Task wurden die zwei Auftragsobjekte geschlossen,
                    also die Destruktoren gerufen, die die Protokolldateien löschten.
                    Das führte zu einem Fehler, weil beide Protokolldateien wegen derselben Auftragskennung dieselben Dateinamen haben.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2006-10-04" version="2.0.158" subversion_revision="4559">
        <revision type="modification" title="Änderungen in den Dokumentationsdateien">
            <description>
                <ul>
                    <li>
                        Die Datei <code>ersetzung_von_umgebungsvariablen.xml</code> 
                        ist ersetzt worden durch
                        <scheduler_a href="variable_substitution.xml"><code>variable_substitution.xml</code></scheduler_a>.
                        Die Seite enthält ein Verzeichnis aller Attribute und .ini-Einstellungen, 
                        in denen Umgebungsvariablen verwendet werden können.
                    </li>
                    <li>
                        Das generierte Register steht jetzt in <code>register_data.xml</code>.
                        Die Datei <scheduler_a href="register.xml"><code>register.xml</code></scheduler_a>
                        enthält jetzt einen Text.
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="Beim Beenden des Schedulers werden &lt;process>-Prozesse abgewartet">
            <description>
                <p>
                    Bei <scheduler_element name="terminate"/> wartete der JobScheduler das Ende von 
                    <scheduler_element name="process"/>-Tasks nicht ab. Jetzt tut er das.
                </p>
            </description>
        </revision>

        <revision type="new" title="Variable_set.substitute">
            <description>
                <p>
                    Neue Methode zum Ersetzen von $-Variablen in einem String.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Variable_set" method="substitute"/>
                    </li>
                </ul>
            </description>
        </revision>
        
        <revision type="new" title="Subprocess.env">
            <description>
                <p>
                    Die Umgebungsvariablen des zu startenden Subprozesses werden in 
                    einem <scheduler_method class="Variable_set"/> gehalten.
                    Damit kann die neue Methode
                    <scheduler_method class="Variable_set" method="substitute"/>
                    genutzt werden.
                </p>
                <p>
                    Der Subprozess erbt die Umgebungsvariablen vom laufenden Prozess
                    zum Zeitpunkt des Aufrufs von 
                    <scheduler_method class="Task" object="spooler_task" method="create_subprocess"/>.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Subprocess" property="env"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-09-26" version="2.0.158" subversion_revision="4555">
        <revision type="modification" title="Umgebungsvariablen in &lt;add_order>&lt;params> und &lt;start_job>&lt;params>">
            <description>
                <p>
                    Innerhalb von
                    <scheduler_element name="add_order"/> und
                    <scheduler_element name="start_job"/> können in 
                    in <scheduler_element name="param" attribute="value"/> 
                    <scheduler_a href="variable_substitution.xml">Umgebungsvariablen abgerufen</scheduler_a>
                    werden.
                </p>
            </description>
        </revision>
    </change>


    <change date="2006-09-24" version="2.0.158" subversion_revision="4551">
        <revision type="new" title="add_pid() für Prozessgruppe">
            <description>
                <p>
                    <scheduler_method class="Task" object="spooler_task" method="add_pid"/> akzeptiert die Pid auch negativ,
                    um eine Prozessgruppe zu bezeichnen. 
                    Unter Unix wird dann bei einem <code>kill</code> die Prozessgruppe abgebrochen.
                    Unter Windows hat eine negative Pid zurzeit keine besondere Wirkung.
                </p>
            </description>
        </revision>

        <revision type="modification" title="Mehrere &lt;commands&gt; aus Basiskonfigurationen werden zusammengefügt">
            <description>
                <p>
                    Alle <scheduler_element name="commands"/> aus der Konfiguration
                    mit den <scheduler_element name="base"/>-Konfigurationen werden ausgeführt,
                    <scheduler_element name="base"/> zuerst.
                </p>
            </description>
        </revision>
    </change>
    
    
    <change date="2006-09-20" version="2.0.158" subversion_revision="4533">
        <revision type="new" title="Tabellenspalten werden verbreitert">
            <description>
                <p>
                    Der JobScheduler prüft beim Start die Spaltenbreiten von
                    <code>scheduler_orders.id</code> und <code>scheduler_order_history.order_id</code>
                    und erweitert sie ggfs. auf 255 Zeichen,
                    damit die Auftragskennungen der Dateiaufträge Platz finden.
                    Ein Fehler dabei wird ignoriert.
                </p>
            </description>
        </revision>

        <revision type="new" title="Dateiaufträge mit zu langen Pfaden">
            <description>
                <p>
                    Mit den neuen Datenbankspaltenbreiten verarbeitet der JobScheduler Pfade bis 255 Zeichen Länge.
                    Längere Pfade werden mit Warnung ignoriert. 
                    Der JobScheduler merkt sie sich, um die Fehlermeldung nicht zu wiederholen.
                </p>
            </description>
        </revision>

        <revision type="new" title="Mail-Versand nur in Dateiverzeichnis">
            <description>
                <p>
                    Die neue Einstellung verhindert den Versand und stellt die Nachricht in das mit
                    <scheduler_ini_entry file="sos.ini" section="mail" entry="queue_dir"/>
                    eingestellte Verzeichnis.
                </p>
                <p>
                    Ebenso <code>queue_only</code> in der Datei <code>sos.ini</code>.
                </p>
                <ul>
                    <li>
                        <scheduler_ini_entry file="sos.ini" section="mail" entry="queue_only"/>
                    </li>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="spooler" entry="mail_queue_only"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="start_when_directory_changed robuster gemacht">
            <description>
                <p>
                    Die Windows-Verzeichnisüberwachung wird bei jedem Aufruf 
                    (bei <scheduler_element name="start_when_directory_changed"/> am Ende der Task)
                    erneuert, ohne das ein Signal verloren geht.
                </p>
                <p>
                    Wenn unter Unix ein Regulärer Ausdruck angegeben ist, 
                    startet <code>start_when_directory_changed</code> den Job nur noch,
                    wenn eine Datei hinzugefügt, aber nicht, wenn eine Datei entfernt worden ist.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="start_when_directory_changed"/>
                    </li>
                    <li>
                        <scheduler_method class="Job" object="spooler_job" method="start_when_directory_changed"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-09-14" version="2.0.158" subversion_revision="4505">
        <revision type="new" title="Subprocess.own_process_group">
            <description>
                <p>
                    Unter Unix wird der <code>kill()</code> auf Prozesse jetzt zusätzlich mit negativer Pid ausgeführt,
                    um die ganze Prozessgruppe zu beenden.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Subprocess" property="own_process_group"/>
                    </li>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="spooler" entry="subprocess.own_process_group"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>
    
    <change date="2006-09-13" version="2.0.158" subversion_revision="4484">

        <revision type="correction" title="Doppelte Einträge in spooler_task.changed_directories">
            <description>
                <p>
                    <scheduler_method class="Task" properties="changed_directories"/>
                    konnte mehrfache Einträge enthalten, 
                    wenn der JobScheduler mehrfache Änderungen desselben Verzeichnisses bemerkte,
                    bevor die Task gestartet werden konnte.
                    Jetzt wird jedes Verzeichnis nur einmal eingetragen.
                </p>
            </description>
        </revision>

        <revision type="new" title="&lt;process> gibt bei Prozessstart Kommandozeile aus">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="process"/>
                    </li>
                    <li>
                        <scheduler_message level="info" code="SCHEDULER-987" show_text="yes"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="spooler_log.mail.to etc. liefern Default-Werte">
            <description>
                <p>
                    Folgende Aufruf liefern die Default-Werte aus den .ini-Dateien:
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Mail" object="spooler_log.mail" property="from"/>
                    </li>
                    <li>
                        <scheduler_method class="Mail" object="spooler_log.mail" property="to"/>
                    </li>
                    <li>
                        <scheduler_method class="Mail" object="spooler_log.mail" property="cc"/>
                    </li>
                    <li>
                        <scheduler_method class="Mail" object="spooler_log.mail" property="bcc"/>
                    </li>
                    <li>
                        <scheduler_method class="Mail" object="spooler_log.mail" property="subject"/>
                    </li>
                    <li>
                        <scheduler_method class="Mail" object="spooler_log.mail" property="smtp"/>
                    </li>
                    <li>
                        <scheduler_method class="Mail" object="spooler_log.mail" property="queue_dir"/>
                    </li>
                </ul>
            </description>
        </revision>
        
        <revision type="new" title="Web_service_operation.peer_ip und .peer_hostname">
            <description>
                Zwei neue Aufrufe:

                <ul>
                    <li>
                        <scheduler_method class="Web_service_operation" property="peer_ip"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service_operation" property="peer_hostname"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Dateiaufträge">
            <description>
                In <scheduler_element name="job_chain"/> können zwei neue XML-Elemente angegeben werden,
                und ein Kommando liefert die Schwarze Liste:

                <ul>
                    <li>
                        <scheduler_element name="file_order_source"/>
                    </li>
                    <li>
                        <scheduler_element name="file_order_sink"/>
                    </li>
                    <li>
                        <scheduler_element name="show_job_chains" attribut="what" value="blacklist"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-08-30" version="2.0.157" subversion_revision="4442">
        <revision type="correction" title="&lt;show_state what=&quot;job_commands&quot; liefert alle &lt;commands>">
            <description>
                Bisher lieferte der JobScheduler nur das erste <scheduler_element name="commands"/> eines Jobs.
            </description>
        </revision>
    </change>


    <change date="2006-08-25" version="2.0.157" subversion_revision="4439">
        <revision type="modification" title="-send-cmd=... liefert Ausgabe ohne Null-Byte">
            <description>
                <ul>
                    <li>
                        <scheduler_option name="send-cmd"/> gibt die Antwort des Schedulers ohne das über TCP übertragene Nullbyte aus.
                        Damit wird nach stdout ein wohlgeformtes XML-Dokument geschrieben.
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-08-25" version="2.0.157" subversion_revision="4436">
        <revision type="correction" title="Subprocess.start( String[] ) für Java funktioniert">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Subprocess" method="start"/> funktionierte in Java nicht
                        mit einem String-Array.
                        Das ist behoben.
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    
    <change date="2006-08-18" version="2.0.157" subversion_revision="4424">
        <revision type="new" title="&lt;job stop_on_error=&quot;no&quot;>">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="stop_on_error" value="no"/>
                        verhindert den Stopp des Jobs wegen einer Fehlermeldung einer Task.
                        Bei <scheduler_option name="log-level" value="debug3"/> gibt der JobScheduler am
                        Ende einer fehlerhaften Task die Meldungen 
                        <scheduler_message code="SCHEDULER-977"/> oder <scheduler_message code="SCHEDULER-978"/> aus.
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="spooler_task.trigger_files">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Task" property="trigger_files"/>
                    </li>
                    <li>
                        <scheduler_element name="process"/>: 
                        Dem Prozess wird die Umgebungsvariable <code>SCHEDULER_TASK_TRIGGER_FILES</code> übergeben.
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="&lt;environment>: Originalgroßschreibung der Umgebungsvariablennamen">
            <description>
                <p>
                    Der JobScheduler setzte die Umgebungsvariablennamen in Kleinschreibung.
                    Jetzt verwendet er die Schreibung wie in <scheduler_element name="environment"/> angegeben.
                    Unter Windows hat das keine Auswirkung, weil die Schreibung keine Rolle spielt.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Aufträge mit &lt;period repeat=&quot;...&quot;>: jeder zweite Tag wurde ausgelassen">
            <description>
                <p>
                Wenn der JobScheduler als nächsten Startzeit mit <code>repeat=</code> eine Startzeit errechnete,
                    die außerhalb der Periode lag (immer nach Mitternacht), dann nahm er die auf die errechnete Startzeit folgende Periode,
                    die aber nicht die nächste, sondern die übernächste ist.
                </p>
                <p>
                    Bei einem einfachen <scheduler_element name="run_time" attribute="period" value="300"/>
                    führte das um Mitternacht zum Überspringen des folgenden Tags.
                    Das ist korrigiert.
                    Der JobScheduler ermittelt die folgende Periode aus der Endzeit der aktuellen Periode.
                </p>
            </description>
        </revision>

    </change>        

    <change date="2006-08-09" version="2.0.156" subversion_revision="4406">
        <revision type="modification" title="Signal einer abgebrochenen Task wird auch bei nicht &lt;process&gt;-Jobs zum negativen Exit code">
            <description>
                <p>
                    Nur Unix:
                    Bisher ist das Signal einer abgebrochenen Task nur bei <scheduler_element name="process"/>-Jobs als 
                    negativer Exit-Code übernommen worden.
                    Jetzt gilt das für alle Jobs.
                </p>
            </description>
        </revision>
        
        <revision type="new" title="&lt;job ignore_signals=&quot;...&quot;&gt;">
            <description>
                <p>
                    Eine Task, die mit Signal endet (durch <code>kill</code> oder Absturz),
                    muss nicht mehr zum Stopp des Jobs führen.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="ignore_signals" value="SIGTERM SIGKILL ..."/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;commands on_exit_code=&quot;SIGTERM&quot;&gt;">
            <description>
                <p>
                    Nur Unix: Die Signalnamen können aufgeführt werden.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="commands" attribute="on_exit_code" value="SIGTERM SIGKILL ..."/>
                    </li>
                    <li>
                        <scheduler_element name="commands" attribute="on_exit_code" value="signal"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-07-27" version="2.0.155" subversion_revision="4396">
        <revision type="new" title="&lt;show_job what=&quot;job_commands&quot;&gt;">
            <description>
                <p>
                    Mit dem Attribut <code>what="job_commands"</code> liefern die Kommandos,
                    die das Element <scheduler_element directory="xml/answer/" name="job"/> zeigen,
                    auch das Element <scheduler_element name="commands"/> der Job-Konfiguration.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="show_job" attribute="what" value="job_commands"/>
                    </li>
                    <li>
                        <scheduler_element name="show_jobs" attribute="what" value="job_commands"/>
                    </li>
                    <li>
                        <scheduler_element name="show_job_chains" attribute="what" value="job_commands"/>
                    </li>
                    <li>
                        <scheduler_element name="show_state" attribute="what" value="job_commands"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>


    <change date="2006-07-27" version="2.0.154" subversion_revision="4393">
        <revision type="correction" title="Datenbankzugriffe auf die Tabelle scheduler_orders">
            <description>
                <p>
                    Der Primärschlüssel der Tabelle <code>SCHEDULER_ORDERS</code> 
                    ist um <code>SPOOLER_ID</code> erweitert.
                    Alle Where-Klauseln auf diese Tabelle sind um <code>SPOOLER_ID</code> und <code>JOB_CHAIN</code> ergänzt worden.
                </p>
                <p>
                    Clob <code>RUN_TIME</code> wird nur noch bei gefüllter <code>run_time</code> gesetzt.
                </p>
            </description>
        </revision>
    </change>


    <change date="2006-06-30" version="2.0.154" subversion_revision="4390">
        <revision type="correction" title="Java-Job ohne Konstruktor">
            <description>
                <p>
                    Ein Java-Job ohne parameterlosen Konstruktor führte zum Abbruch des Prozesses
                    statt zur Exception <code>java.lang.NoSuchMethodError</code>.
                </p>
            </description>
        </revision>

        <revision type="correction" title="&lt;config java_class_path=&quot;&quot;>">
            <description>
                <p>
                    Das Attribut <code>java_class_path</code> wurde im Betrieb mit Prozessklassen nicht ausgewertet.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="config" attribute="java_class_path"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-06-20" version="2.0.154" subversion_revision="4379">

        <revision type="correction" title="history_on_process verhält sich jetzt wie dokumentiert">
            <description>
                <p>
                    Eine falsche Angabe wird nicht mehr ignoriert, sondern führt zum Fehler.
                </p>
                <ul>
                    <li>
                        <scheduler_ini_entry file="factory.ini" section="job" entry="history_on_process"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>
        
    <change date="2006-06-19" version="2.0.154" subversion_revision="4366">

        <revision type="new" title="Ein paar Verbesserungen in der internen Ereignisverarbeitung">
            <description>
                <p>
                    Neues Attribut <code>wait_until</code> liefert den Zeitpunkt der nächsten geplanten Aktion.
                    Nach etwa 20 Minuten Nichtstun gibt der JobScheduler eine Meldung aus, 
                    bis wann und worauf er wartet.
                </p>

                <ul>
                    <li>
                        <scheduler_element directory="xml/answer/" name="state" attribute="wait_until"/>
                    </li>
                    <li>
                        <scheduler_message code="SCHEDULER-972"/>
                    </li>
                </ul>
            </description>
        </revision>
        
        <revision type="correction" title="&lt;show_state> lieferte Fehler bei beendeten Subprozess, deshalb evt. keine eMail">
            <description>
                <p>
                    <scheduler_element name="show_state"/> und andere Kommandos, die den Task-Zustand zeigen,
                    lieferte einen Fehler, wenn ein Subprozess oder der Task-Prozess selbst beendet war
                    und der JobScheduler dies noch nicht zur Kenntnis genommmen hatte.
                    Grund: Der Systemaufruf zum Lesen der Priorität liefert einen Fehler.
                </p>
                <p>
                    Das konnte insbesondere bei <scheduler_element name="kill_task"/> mit Subprozess dazu führen, 
                    dass die eMail am Ende der Task nicht versendet und 
                    statt dessen der Fehler <scheduler_message code="SCHEDULER-302"/> ausgegeben wird.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="kill_task"/>
                    </li>
                    <li>
                        <scheduler_element directory="xml/answer/" name="subprocess" attribute="priority"/>
                    </li>
                    <li>
                        <scheduler_method class="Log" property="mail_on_error"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>
    
    <change date="2006-06-16" version="2.0.154" subversion_revision="4352">

        <revision type="new" title="&lt;process param=&quot;&quot;>: Task-Parameter werden ersetzt">
            <description>
                <p>
                    Im Attribut <code>param=</code> ersetzt der JobScheduler jetzt auch Task-Parameter.
                    Die haben Vorrang vor den Umgebungsvariablen.
                    Damit kann für jede Task eine andere Parameterzeile übergeben werden.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="process" attribute="param"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Neue Eigenschaft Order.at">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="at"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Strg-C bricht nicht mehr die Prozesse ab">
            <description>
                <p>
                    Strg-C wirkt nur noch auf den Scheduler-Prozess, 
                    aber nicht mehr auf die Task-Prozesse 
                    (außer unter Windows <scheduler_element name="process"/> und <scheduler_element name="script" language="shell" />).
                    Damit kann der JobScheduler nach Strg-C die Tasks ordentlich beenden.
                    Ein zweites Strg-C führt nach wie vor zum sofortigen Ende aller Tasks und des Schedulers.
                </p>
            </description>
        </revision>

    </change>

    <change date="2006-06-06" version="2.0.154" subversion_revision="4339">

        <revision type="correction" title="-env= korrigiert (Windows)">
            <description>
                <p>
                    <code>-env=</code> hat die Variablen für Kindprozesse gesetzt, aber nicht für den eigenen.
                    (Das wird nämlich von Microsofts C unterschieden.)
                </p>
                <ul>
                    <li>
                        <scheduler_option name="env"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="&lt;add_order replace=&quot;yes&quot;>">
            <description>
                <p>
                    Das XML-Schema erlaubt jetzt replace="yes".
                </p>
                <ul>
                    <li>
                        <scheduler_element name="add_order" attribute="replace"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Neue Option -expand-classpath=">
            <description>
                <p>
                    Expandiert den als Parameter angegebenen Java-Classpath,
                    d.h. die Joker werden verarbeitet wie in <scheduler_ini_entry file="sos.ini" section="java" entry="class_path"/>.
                </p>
                <ul>
                    <li>
                        <scheduler_option name="expand-classpath"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;commands on_exit_code=&quot;0&quot;>">
            <description>
                <ul>
                    <li>
                        Neue Eigenschaft <scheduler_method class="Task" property="exit_code"/> (int), anfänglich 0.
                        <scheduler_method class="Log" object="spooler_log" method="error"/>,
                        <scheduler_method class="Task" object="spooler_task" method="error"/> oder
                        eine Exception der Task setzen
                        <scheduler_method class="Log" object="spooler_task" property="exit_code"/><code>=1</code>.
                        <code>exit_code</code> kann auch vom Job selbst gesetzt werden,
                        wird aber unter den oben aufgeführten Bedingungen vom JobScheduler überschrieben.
                        Damit liefert jede im JobScheduler mögliche Task am Ende einen <code>exit_code</code>.
                    </li>
                    <li>
                        Der <code>exit_code</code> wird in die Datenbanktabelle <code>scheduler_history</code> 
                        in die neue Spalte <code>exit_code</code> geschrieben,
                        die der JobScheduler automatisch anlegt.
                    </li>
                    <li>
                        Unter Unix liefert ein abgebrochener Prozess die Nummer des Signals negativ als Exit-Code.
                    </li>
                    <li>
                        <scheduler_element name="job"/> wird um <scheduler_element name="commands" attribute="on_exit_code"/> erweitert.

                        Für das Attribut <code>on_exit_code</code> kann eine Folge von Exit-Codes,
                        <code>"success"</code> (dasselbe wie <code>0</code>) oder
                        <code>"error"</code> angegeben werden.
                        Letztere Einstellung gilt für alle Exit-Codes außer 0, die nicht in anderen
                        <scheduler_element name="commands" attribute="on_exit_code"/> aufgeführt sind.
                        Jedem Exit-Code ist damit nicht mehr als ein <scheduler_element name="commands"/> zugeordnet.
                    </li>
                    <!--li>
                        Ein Fehler im Kommando führt zum Job-Fehler: 
                        Der Job wird gestoppt, außer <scheduler_element name="delay_after_error"/> ist gesetzt
                        (<scheduler_element name="process" attribute="ignore_error" value="yes"/> wirkt hier nicht, sondern nur auf Exitcodes).
                    </li-->
                    <li>
                        Ein Fehler bei der Kommando-Ausführung verhindert die Ausführung der folgenden Kommandos und wird zur Task protokolliert.
                        Der Job wird gestoppt.
                    </li>
                    <li>
                        <scheduler_element name="commands"/> darf leer sein.
                    </li>
                </ul>
            </description>

            <revision type="new" title="Anlässe zum Start einer Task 'queue' und 'queue_at'">
                <description>
                    <p>
                        Diese Anlässe werden jetzt auch protokolliert (mit <scheduler_message code="SCHEDULER-930"/>).
                    </p>
                </description>
            </revision>

            <revision type="correction" title="Speicherlecks beim Aufruf von Spidermonkey abgedichtet">
                <description>
                    <p>
                        Betrifft <code>spidermonkey.dll</code> und <code>libspidermmonkey.so</code>.
                    </p>
                </description>
            </revision>

        </revision>

        <revision type="new" title="&lt;copy_params>">
            <description>
                <p>
                    <scheduler_element name="params"/> erhält das neue Kind-Element
                    <scheduler_element name="copy_params" attribute="from"/>.
                    Es kann nur unter <scheduler_element name="job" child="commands"/>
                    in <scheduler_element name="start_job" child="params"/> und
                    <scheduler_element name="add_order" child="params"/> verwendet werden und
                    kopiert an seine Stelle die Parameter der Task oder des Auftrags.
                </p>
                <p>
                    <scheduler_element name="copy_params" attribute="from" value="order"/> ist ein Fehler, wenn es keinen Auftrag gibt.
                </p>
            </description>
        </revision>

        <revision type="new" title="Aufträge mit Startzeit">
            <description>
                <p>
                    Aufträge können einen Startzeit haben, 
                    die in der Datenbank gespeichert wird und somit bei Scheduler-Neustart erhalten bleibt.
                    Ein noch nicht ausgeführter Auftrag mit verstrichener Startzeit wird sofort gestartet
                    (sofern die <scheduler_element name="run_time"/> des Jobs dies erlaubt).
                </p>
                <p>
                    Das entspricht dem Verhalten von <scheduler_element name="start_job" attribute="at"/>.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="add_order" attribute="at"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Relative Zeitangabe mit now+HH:MM">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="start_job" attribute="at" value="now+..."/>
                    </li>
                    <li>
                        <scheduler_element name="add_order" attribute="at" value="now+..."/>
                    </li>
                </ul>
                <p>
                    Mögliche Angaben sind:
                </p>
                <ul>
                    <li>
                        <code>now</code>
                    </li>
                    <li>
                        <code>now + </code>
                        <i>seconds</i>
                    </li>
                    <li>
                        <code>now + </code>
                        <i>hh:mm</i>
                    </li>
                    <li>
                        <code>now + </code>
                        <i>hh:mm:ss</i>
                    </li>
                    <li>
                        <code>yyyy-mm-dd HH:MM</code>
                    </li>
                    <li>
                        <code>yyyy-mm-dd HH:MM:SS</code>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="language=&quot;perl&quot; unter Windows">
            <description>
                <p>
                    Unter Windows übergab der JobScheduler nur bei
                    <scheduler_element name="script" attribute="language" value="perlscript"/> die folgende Anweisung:
                </p>
                <pre>Win32::OLE->Option( Warn => 3 );</pre>
                <p>
                    <scheduler_element name="script" attribute="language" value="perl"/> hat jetzt dasselbe Verhalten.
                    Damit ignoriert Perl nicht länger einen Fehler bei einem Aufruf einer Scheduler-Methode.
                </p>
            </description>
        </revision>
    </change>

    <change date="2006-05-29" version="2.0.153" subversion_revision="4313">
        <revision type="new" title="Joker im Java-Classpath">
            <description>
                <pre>class_path = c:\directory\sos.*.jar;...</pre>
                <ul>
                    <li>
                        <scheduler_ini_entry file="sos.ini" section="java" entry="class_path"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>
                   
    <change date="2006-05-26" version="2.0.151" subversion_revision="4305">
        <revision type="new" title="Umgebungsvariablen mit ${name}">
            <description>
                <p>
                    Dort, wo Umgebungsvariablen mit <code>$</code><i>name</i> aufgerufen werden können,
                    kann jetzt auch <code>${</code><i>name</i><code>}</code> geschrieben werden.
                    Damit ist die Trennung zum anschließenden Text deutlicher.
                </p>
            </description>
        </revision>

        <revision type="modification" title="In &lt;base file=&quot;&quot;> und &lt;include file=&quot;&quot;> lassen sich Umgebungsvariablen nutzen">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="base" attribute="file"/>
                    </li>
                    <li>
                        <scheduler_element name="include" attribute="file"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Umgebungsvariablen mit ${name}">
            <description>
                <p>
                    Dort, wo bisher Umgebungsvariablen mit <code>$</code><i>name</i> aufgerufen werden können,
                    kann jetzt auch <code>${</code><i>name</i><code>}</code> geschrieben werden.
                    Damit ist die Trennung zum anschließenden Text deutlicher.
                </p>
            </description>
        </revision>

        <revision type="correction" title="spooler_task.params korrigiert">
            <description>
                <p>
                    Der Aufruf konnte zum Abbruch des Schedulers führen.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Variable_set" property="names"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-05-26" version="2.0.151" subversion_revision="4304">
        <revision type="new" title="&lt;job min_tasks=...>">
            <description>
                <p>
                    Der JobScheduler kann dafür sorgen, dass eine minimale Anzahl Tasks läuft.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="min_tasks"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="correction" title="Subprocess.wait_for_termination(int) funktioniert jetzt unter Unix">
            <description>
                <p>
                    Unter Unix wurde der Parameter für die Wartezeit ignoriert. Das ist behoben.
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Subprocess" method="wait_for_termination"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Perl-Schnittstelle unter Unix um Objekt- und Array-Parameter erweitert">
            <description>
                <p>
                    Die Perl-Schnittstelle nimmt damit auch unter Unix die folgenden Aufrufe an:
                </p>
                <ul>
                    <li>
                        <scheduler_method class="Spooler" method="add_job_chain" programming_language="perl"/>
                    </li>
                    <li>
                        <scheduler_method class="Job_chain" method="add_order" programming_language="perl"/>
                    </li>
                    <li>
                        <scheduler_method class="Order" property="params" programming_language="perl"/>
                    </li>
                    <li>
                        <scheduler_method class="Task" method="create_subprocess" programming_language="perl"/>
                    </li>
                    <li>
                        <scheduler_method class="Subprocess" method="start" programming_language="perl"/>
                    </li>
                </ul>
                <p>
                    Betrifft die Datei <code>libsosperlscript.so</code>.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Neuer Auftrag mit Startzeit weckt schlafende Task">
            <description>
                <p>
                    Ein Auftrag mit Startzeit weckt jetzt eine schlafende Task (im Zustand running_waiting_for_order),
                    sodass der Auftrag sofort zur Startzeit ausgeführt wird.
                </p>
            </description>
        </revision>
    </change>

    <!--change date="2006-04-17" version="2.0.151" subversion_revision="4277">
        <revision type="correction" title="Dokumentation geändert: Objekte und Arrays können in Perl unter Unix nicht als Parameter übergeben werden">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Job_chain" method="add_order"/>
                    </li>
                    <li>
                        <scheduler_method class="Spooler" method="add_job_chain"/>
                    </li>
                    <li>
                        <scheduler_method class="Order" property="params"/>
                    </li>
                </ul>
                <p>
                    (Klick auf der API-Seite oben auf Perl!)
                </p>
            </description>
        </revision>
    </change-->
    
    <change date="2006-04-13" version="2.0.151" subversion_revision="4254">
        <revision type="new" title="Neue Option -env=NAME=WERT">
            <description>
                <ul>
                    <li>
                        <scheduler_option name="env" value="NAME=VALUE"/>
                    </li>
                    <li>
                        <scheduler_option name="sos.ini"/> setzt die Umgebungsvariable <code>SOS_INI</code>.
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="modification" title="Verhalten bei Fehler von &lt;start_when_directory_changed&gt; geändert">
            <description>
                <p>
                    Bisher wurde die Verzeichnisüberwachung beim Start jeder Task wiederholt.
                    Bei einem Fehler in der Verzeichnisüberwachung 
                    (z.B. weil das Verzeichnis entfernt worden war)
                    wurde der Job gestoppt, während die Task zuende laufen konnte,
                    und keine weitere Task wurde mehr gestartet.
                </p>
                <p>
                    Jetzt stoppt der JobScheduler den Job nicht mehr direkt.
                    Die Verzeichnisüberwachung wird am Ende der Task 
                    (nach <scheduler_method class="Job_impl" method="spooler_exit"/>)
                    wiederholt.
                    Ein Fehler dabei führt zum Stopp des Jobs, 
                    der aber mit <scheduler_element name="delay_after_error"/> abgefangen werden kann.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="start_when_directory_changed"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Web-Service-Parameter werden in XSLT-Stylesheets übernommen">
            <description>
                <p>
                    Parameter, die Apostroph und Anführungszeichen enthalten, werden mit Warnung abgewiesen, 
                    da offenbar solche Werte <a href="http://xmlsoft.org/XSLT/">libxslt</a> nicht übergeben werden können.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="web_service" child="params"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-04-12" version="2.0.151" subversion_revision="4253">
        <revision type="new" title="Neue Eigenschaft Order.params">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="params"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Web-Service-Parameter werden in XSLT-Stylesheets übernommen">
            <description>
                <p>
                    Parameter, die Apostroph und Anführungszeichen enthalten, werden mit Warnung abgewiesen, 
                    da offenbar solche Werte <a href="http://xmlsoft.org/XSLT/">libxslt</a> nicht übergeben werden können.
                </p>
                <ul>
                    <li>
                        <scheduler_element name="web_service" child="params"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-04-06" version="2.0.150" subversion_revision="4240">
        <revision type="correction" title="Schema erlaubt wieder &lt;delay_after_error delay=&quot;stop&quot;&gt;">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="delay_after_error" attribute="delay" value="stop"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-04-04" version="2.0.150" subversion_revision="4233">
        <revision type="new" title="command_line.xml neu strukturiert">
            <description>
                scheduler_client entfällt wieder. 
                Die Optionen sind im Programm scheduler integriert.
                Die verschiedenen Aufrufe des JobSchedulers sind jetzt dokumentiert,
                siehe z.B. <a href="command_line.xml#options__start_job">"Laufendem JobScheduler einen Job übergeben"</a>.
            </description>
        </revision>
    </change>

    <change date="2006-03-31" version="2.0.150" subversion_revision="4225">
        <revision type="new" title="scheduler.xsd auf ISO-8859-1 begrenzt">
            <description>
                XML-Kommandos können nur Zeichen aus ISO-8859-1 enthalten.
            </description>
        </revision>

        <revision type="new" title="Prozess-Prioritäten">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job" attribute="priority" value="below_normal"/>
                    </li>
                    <li>
                        <scheduler_method class="Task" property="priority"/>
                    </li>
                    <li>
                        <scheduler_method class="Task" property="priority_class"/>
                    </li>
                    <li>
                        <scheduler_method class="Subprocess" property="priority"/>
                    </li>
                    <li>
                        <scheduler_method class="Subprocess" property="priority_class"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-03-25" version="2.0.149" subversion_revision="4218">
        <revision type="new" title="scheduler_client">
            <description>
                <p>
                    Das neue Programm <code>scheduler_client</code> kann dem JobScheduler Jobs und Aufträge übergeben.
                </p>
                <p>
                    Start eines Jobs, dessen Skript über <code>stdin</code> übergeben wird:
                </p>
                <div class="indent">
                    <code>scheduler_client </code>
                    <code>-scheduler=</code><i>host</i><code>:</code><i>port</i> &#160;
                    <code>-language=</code><i>script_language</i> &#160;
                    <code>-process_class=</code><i>process_class</i> &#160;
                    <code>-at=</code>"<i>yyyy-mm-dd HH:MM</i>" &#160;
                </div>
                <p>
                    Übergabe eines Auftrags:
                </p>
                <div class="indent">
                    <code>scheduler_client </code>
                    <code>-scheduler=</code><i>host</i><code>:</code><i>port</i> &#160;
                    <code>-job-chain=</code><i>job_chain</i> &#160;
                    <code>-order-id=</code><i>order_id</i> &#160;
                    <code>-at=</code>"<i>yyyy-mm-dd HH:MM</i>" &#160;
                    <i>parameter</i><code>=</code><i>value</i> …
                </div>
            </description>
        </revision>

        <revision type="modification" title="&lt;job temporary=&quot;true&quot;&gt;">
            <description>
                <p>
                    Ein temporärer Job wird erst gelöscht, 
                    wenn die <scheduler_element name="run_time"/> keine Startzeit mehr vorsieht
                    und die Task-Warteschlange leer ist.
                </p>
            </description>
        </revision>

        <revision type="new" title="&lt;script language=&quot;shell&quot;&gt;">
            <description>
                <p>
                    Neue Skript-Sprache "shell" erlaubt es, 
                    Shell-Jobs in der XML-Konfiguration anzugeben.
                    (Für scheduler_client)
                </p>
                <ul>
                    <li>
                        <scheduler_element name="script" attribute="language" value="shell"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Neue Angabe für &lt;run_time&gt;: &lt;at&gt;">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="at" attribute="at" value="2006-03-24 12:00"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-03-17" version="2.0.148" subversion_revision="4199">
        <revision type="correction" title="Der JobScheduler läuft wieder unter Windows 2000">
            <description>
                <p>
                    Die fehlerhafte Routine SafeArrayGetVartype() in Windows 2000 wird umgegangen.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2006-03-10" version="2.0.148" subversion_revision="4178">
        <revision type="new" title="&lt;web_service> mit &lt;params>">
            <description>
                Einem Web-Service lassen sich Parameter geben, die in den Jobs gelesen werden können.
                <ul>
                    <li>
                        <scheduler_element name="web_service"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service" property="params"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Meldungen ins Englische übersetzt und mit Codes versehen">
            <description>
                Die Meldungen (außer einige Debug-Meldungen) sind jetzt codiert, wie z.B. "<code>SCHEDULER-900 JobScheduler is starting ...</code>".
                <ul>
                    <li>
                        <a href="messages/index.xml">Liste der Meldungs-Codes</a>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Neue Eigenschaften Request|Response.content_type und .charset_name">
            <description>
                <ul>
                    <li>
                        <scheduler_method class="Web_service_request" property="content_type"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service_request" property="charset_name"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service_response" property="content_type"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service_response" property="charset_name"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-03-05" version="2.0.148" subversion_revision="4155">
        <revision type="new" title="&lt;job_chain orders_recoverable=&quot;no&quot;&gt;">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="job_chain" attribute="orders_recoverable" value="no"/>
                    </li>
                    <li>
                        <scheduler_method class="Job_chain" property="orders_recoverable"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;script java_class=&quot;–&quot;&gt; ist überschreibbar">
            <description>
                <ul>
                    <li>
                        <scheduler_element name="script" attribute="java_class"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>
    
    <change date="2006-03-01" version="2.0.148" subversion_revision="4126">
        <revision type="new" title="Neuer C++-Compiler für Windows">
            <description>
                <p>
                    Ab Revision 4126 ist alle Software für Windows mit Microsoft Visual Studio 2005 C++ übersetzt.
                    Es sollte keine Änderung bemerkbar sein.
                </p>
            </description>
        </revision>

        <revision type="new" title="XML-Schema eingeführt">
            <description>
                <p>
                    Die XML-Konfiguration und die XML-Kommandos werden gegen ein eingebautes XML-Schema geprüft.
                    Die neue Option <scheduler_option name="show-xml-schema"/> liefert das XML-Schema.
                    Zum Test ist eine aktuelle Version übers Internet erreichbar:
                    <a href="http://www.zschimmer.com/2006/scheduler.xsd">http://www.zschimmer.com/2006/scheduler.xsd</a>.
                </p>
                <p>Neue Kommandozeilen-Optionen:</p>
                <ul>
                    <li>
                        <scheduler_option name="show-xml-schema"/>
                    </li>
                    <li>
                        <scheduler_option name="validate-xml"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="Neue Eigenschaft order.xml_payload">
            <description>
                <p>
                    Zusätzlich zur payload kann <scheduler_method class="Order" property="xml_payload"/> ein XML-Dokument aufnehmen.
                </p>
                <p>Eine neue Eigenschaft und ein neues XML-Element:</p>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="xml_payload"/>
                    </li>
                    <li>
                        <scheduler_element name="xml_payload"/>
                    </li>
                </ul>
            </description>
        </revision>

        <revision type="new" title="&lt;web_service job_chain=''&gt;">
            <description>
                <p>
                    Ein Web-Service kann mit einer Job-Kette implementiert werden.
                </p>
                <p>Neue XML-Elemente, neue Attribute:</p>
                <ul>
                    <li>
                        <scheduler_element name="web_service" attribute="job_chain"/>
                    </li>
                    <li>
                        <scheduler_element name="web_service" attribute="timeout"/>
                    </li>
                </ul>
                <p>Neue Klassen und Methoden:</p>
                <ul>
                    <li>
                        <scheduler_method class="Order" property="web_service_operation"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service_operation"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service_request"/>
                    </li>
                    <li>
                        <scheduler_method class="Web_service_response"/>
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-02-21" version="2.0.147" subversion_revision="4100">
        <revision type="correction" title="Dateityp jdbc löscht temporäre Dateien unter Windows">
            <description>
                <p>
                    Beim Schreiben eines LOBs wurde die temporäre Dateien nicht gelöscht,
                    weil FileInputStream.close() nicht gerufen wurde.
                    Gilt nicht für Oracle.
                    Das ist korrigiert.
                </p>
            </description>
        </revision>
    </change>
            
    <change date="2006-02-20" version="2.0.147" subversion_revision="4099">
        <revision type="correction" title="HTTP-Server korrigiert">
        </revision>
    </change>
            
    <change date="2006-02-09" version="2.0.147" subversion_revision="4091">
        <revision type="new" title="Variable_set.names">
            <description>
                <p>
                    <scheduler_method class="Variable_set" property="names"/>
                    liefert die Variablennamen, durch Semikolon getrennt.
                </p>
            </description>
        </revision>
    </change>
            
    <change date="2006-02-02" version="2.0.146" subversion_revision="4073">
        <revision type="correction" title="factory.ini queue_dir=">
            <description>
                <p>
                    queue_dir kann wieder in der Datei factory.ini eingestellt werden. 
                    Betrifft JobScheduler ab 2.0.139.3889 (2005-09-15).
                </p>
                <p>
                    Die beste Stelle für diese Einstellung bleibt in der Datei <scheduler_ini_entry file="sos.ini" section="mail" entry="queue_dir"/>.
                </p>
            </description>
        </revision>
    </change>
            
    <change date="2006-01-30" version="2.0.146" subversion_revision="4061">
        <revision type="new" title="Web-Dienste">
            <description>
                <p>Neue XML-Elemente, neue Attribute:</p>
                <ul>
                    <!--li><scheduler_element name="web_services"/></li-->
                    <li><code>&lt;web_services></code></li>
                    <li><scheduler_element name="web_service"/></li>
                    <li><scheduler_element name="add_order" attribute="web_service"/></li>
                    <li><scheduler_element name="start_job" attribute="web_service"/></li>
                    <li><scheduler_element directory="xml/answer/" name="order" attribute="web_service"/></li>
                    <li><scheduler_element name="payload"/></li>
                    <li><scheduler_element directory="xml/answer/" name="task" attribute="web_service"/></li>
                    <li><scheduler_element name="service_request"/></li>
                    <li><scheduler_element name="content"/></li>
                    <li><scheduler_element name="job_chain" attribute="visible" value="no"/></li>
                    <li><scheduler_element name="job"       attribute="visible" value="no"/></li>
                </ul>
                <p>Neue Klassen und Methoden:</p>
                <ul>
                    <li><scheduler_method class="Web_service"/></li>
                    <li><scheduler_method class="Order" property="xml"/></li>
                    <li><scheduler_method class="Order" property="web_service"/></li>
                    <li><scheduler_method class="Task" property="web_service"/></li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2006-01-15" version="2.0.145" subversion_revision="4049">
        <revision type="new" title="Job_chain.remove()">
            <description>
                <p>
                    Neue Kommandos <scheduler_method class="Job_chain" method="remove"/> und
                    <scheduler_element name="remove_job_chain"/>.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-12-15" version="2.0.144" subversion_revision="4038">
        <revision type="correction" title="Order.setback() und Job.set_max_order_setbacks() jetzt auch in Java verfügbar">
            <description>
                <p>
                    Siehe <scheduler_method class="Order" method="setback"/> und
                    <scheduler_method class="Job" property="max_order_setbacks"/>.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-12-08" version="2.0.144" subversion_revision="4036">
        <revision type="correction" title="eMail-Einstellungen aus factory.ini [job ...] werden wieder berücksichtigt">
            <description>
                <p>
                    Wenn eine Task mit Fehler oder Warnung endet,
                    überschreibt der JobScheduler die Einstellung von <code>log_mail_subject</code>.
                    Das eMail-Stylesheet kann dies ändern.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-11-11" version="2.0.144" subversion_revision="4026">
        <revision type="correction" title="Auftrag mit &lt;run_time&gt; weckt jetzt auf Auftrag wartende Task">
            <description>
                <p>
                    Bislang hat der JobScheduler einen wegen <code>run_time</code> wiederholten Auftrag verschlafen,
                    wenn bereits eine Task auf den Auftrag wartete (im Zustand <code>running_waiting_for_order</code>).
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-11-08" version="2.0.144" subversion_revision="4015">
        <revision type="correction" title="SQL-Tabellenamen ohne &quot;&quot;; Große order.payload möglich">
            <description>
                <p>
                    Die SQL-Anweisungen des Schedulers verwenden die Tabellennamen großgeschrieben ohne Anführungszeichen.
                    (Ausnahme: Zugriffe über den Dateityp sql).
                </p>
                <p>
                    Die <scheduler_method class="Order" property="payload"/> wird mit dem Hostware-Mechanismus als CLOB geschrieben
                    und kann damit beliebig groß sein. Das ist gut für <scheduler_method class="Variable_set"/>.
                </p>
            </description>
        </revision>

        <revision type="modification" title="HPUX: Hostjava ist im JobScheduler eingebunden">
            <description>
                <p>
                    Weil es ein Problem mit gcc 3.2 beim Nachladen der libhostjava.sl gibt
                    (die statischen Variablen werden nicht initialisiert), 
                    ist Hostjava auf HP-UX fest eingebunden.
                </p>
                <p>
                    system_information() implementiert für HP-UX die Plattenplatz-Funktionen bereit.
                </p>
            </description>
        </revision>

        <revision type="modification" title="Tabelle scheduler_variables geändert">
            <description>
                <p>
                    Die Spalte "wert" ist jetzt ein Integer. Die neue Spalte Textwert ist ein Varchar(250)
                    (wird vom JobScheduler zurzeit nicht verwendet).
                </p>
            </description>
        </revision>

    </change>
    
    <change date="2005-11-07" version="2.0.143" subversion_revision="4005">
        <revision type="correction" title="&lt;security ignore_unknown_hosts=&quot;yes&quot;&gt;">
            <description>
                <p>
                    <scheduler_element name="security" attribute="ignore_unknown_hosts" value="yes"/> funktioniert wieder.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2005-11-03" version="2.0.142" subversion_revision="4003">
        <revision type="new" title="&lt;job java_options=&gt;">
            <description>
                <p>
                    Siehe <scheduler_element name="job" attribute="java_options"/>.
                </p>
                <p>
                    Außerdem wirkt <scheduler_element name="config" attribute="java_options"/> jetzt auch, 
                    wenn ein Job in einem eigenen Prozess läuft.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2005-10-31" version="2.0.140" subversion_revision="3999">
        <revision type="modification" title="Job-&lt;script&gt; ist überschreibbar">
            <description>
                <p>
                    Siehe <scheduler_element name="script"/>.
                </p>
                <p>
                    Die Attribute (<code>language=</code> etc.) sind nicht änderbar.
                    Nur der Skript-Code mit <scheduler_element name="include"/> ist änderbar.
                    Die nächste Task verwendet den neuen Skript-Code.
                </p>
            </description>
        </revision>
    </change>
    
    <change date="2005-10-30" version="2.0.140" subversion_revision="3995">
        <revision type="new" title="Monitor zur Überwachung eines Jobs">
            <description>
                <p>
                    Siehe <scheduler_element name="monitor"/>.
                </p>
                <p>
                    Für Monitoren in Javascript muss die aktuelle spidermonkey.dll bzw. libspidermonkey.so eingesetzt werden.
                </p>
            </description>
        </revision>
        <revision type="new" title="Neues XML-Element &lt;job_chains&gt;">
            <description>
                <p>
                    Siehe <scheduler_element name="job_chains"/>.
                </p>
            </description>
        </revision>
        <revision type="new" title="Neues XML-Element &lt;start_when_directory_changed&gt;">
            <description>
                <p>
                    Siehe <scheduler_element name="start_when_directory_changed"/>.
                </p>
            </description>
        </revision>
        <revision type="new" title="Neues XML-Element &lt;delay_after_error&gt;">
            <description>
                <p>
                    Siehe <scheduler_element name="delay_after_error"/>.
                </p>
            </description>
        </revision>
        <revision type="new" title="Neues XML-Element &lt;delay_order_after_setback&gt;">
            <description>
                <p>
                    Siehe <scheduler_element name="delay_order_after_setback"/>.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-09-25" version="2.0.140" subversion_revision="3943">
        <revision type="modification" title="Wegen &lt;run_time&gt; wiederholter Auftrag erzeugt eigenen Historieneintrag">
            <description>
                <p>
                    Wenn ein Auftrag mit den Endzustand erreicht hat und 
                    dessen <scheduler_method class="Order" property="run_time"/>  einen weiteren Termin vorsieht,
                    dann
                </p>
                <ul>
                    <li>
                        schließt der JobScheduler das Auftragsprotokoll, 
                    </li>
                    <li>
                        schreibt einen Eintrag in die Auftragshistorie,
                        siehe <scheduler_ini_entry file="factory.ini" section="spooler" entry="db_order_history_table"/>,
                    </li>
                    <li>
                    und beginnt ein neues Auftragsprotokoll.
                    </li>
                </ul>
            </description>
        </revision>
    </change>

    <change date="2005-09-24" version="2.0.140" subversion_revision="3939">
        <revision type="modification" title="Windows: Doppeltes Ctrl-C bricht alle Prozesse ab">
            <description>
                <p>
                    Das erste Ctrl-C 
                    beendet den JobScheduler wie <scheduler_element name="modify_spooler" attribute="cmd" value="terminate"/>.
                </p>
                <p>
                    Das zweite Ctrl-C führt dann zum Abbruch aller Prozesse.
                </p>
                <p>
                    Erst das dritte lässt das Betriebssystem den JobScheduler abbrechen.
                </p>
            </description>
        </revision>

        <revision type="new" title="Terminate mit Frist">
            <description>
                <p>
                    Der JobScheduler kann jetzt mit Frist beendet werden.
                    Wenn innerhalb der Frist die Tasks nicht enden, bricht der JobScheduler die Prozesse der Tasks ab,
                    und wartet dann längstens weitere 30s auf die Tasks, bevor er sich beendet.
                </p>
                <p>
                    Siehe <scheduler_element name="modify_spooler" attribute="cmd" value="terminate"/> und
                    <scheduler_method class="Spooler" method="terminate"/>.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-09-21" version="2.0.139" subversion_revision="3925">
        <revision type="modification" title="Fehlerhaftes &lt;include&gt; im &lt;description&gt; eines Jobs führt zur Warnung im Jobprotokoll">
            <description>
                <p>
                    (Bisher gab's einen Fehler nur im Hauptprotokoll.)
                </p>
                <p>
                    Siehe <scheduler_element name="description"/>.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-09-15" version="2.0.139" subversion_revision="3889">
        <revision type="modification" title="Neue Behandlung der Voreinstellungen für den eMail-Versand"/>
    </change>

    <change date="2005-09-07" version="2.0.138" subversion_revision="3866">
        <revision type="correction" title="spooler_log.debug1() bis spooler_log.debug9() im Scheduler-Skript werden nicht mehr unterdrückt"/>
        <revision type="modification" title="Datenbanktabellen werden mit varchar statt char angelegt"/>
    </change>

    <change date="2005-09-06" version="2.0.138" subversion_revision="3851">
        <revision type="new" title="Option -pid-file wird bei Installation als Windows-Dienst übernommen">
            <description>
                <p>
                    Siehe <scheduler_option name="pid-file"/>
                </p>
            </description>
        </revision>

        <revision type="new" title="XSLT-eMail erhält &lt;order&gt;-Element">
            <description>
                <p>
                    Das Element <scheduler_element name="order" directory="xml/answer/"/> wird
                    bei einem Abbruch der Task
                    im Element <scheduler_element name="task" directory="xml/answer/"/> geliefert.
                </p>
            </description>
        </revision>
    </change>

    <!--change date="2005-08-28" version="2.0.137" subversion_revision="3851">
        <revision type="correction" title="Scheduler beendet sich wieder, wenn eine Job-Kette gefüllt ist (Folge der Implementierung von remove_job)"/>
    </change-->

    <change date="2005-08-24" version="2.0.137" subversion_revision="3844">
        <revision type="correction" title="-sos.ini= akzeptiert Leerzeichen im Dateinamen"/>
    </change>

    <change date="2005-08-21" version="2.0.137" subversion_revision="3839">
        <revision type="new" title="Neue Methode Job.remove(), neues XML-Kommando &lt;modify_job cmd=&quot;remove&quot;&gt;">
            <description>
                <p>
                    Siehe <scheduler_method class="Job" method="remove"/>
                    und <scheduler_element name="modify_job" attribute="cmd" value="remove"/>.
                </p>
            </description>
        </revision>

        <revision type="correction" title="&lt;remove_order&gt; wirkt sofort auf Datenbank"/>
        <revision type="correction" title="Fehler-eMails jetzt mit richtigem Nachrichtentext"/>
    </change>

    <change date="2005-08-12" version="2.0.136" subversion_revision="3836">
        <revision type="new" title="Neue Methoden Task.stdout_path und Task.stderr_path">
            <description>
                <p>
                    Siehe <scheduler_method class="Task" property="stdout_path"/>
                    und <scheduler_method class="Task" property="stderr_path"/>.
                </p>
            </description>
        </revision>

        <revision type="correction" title="&lt;remove_order&gt; wirkt sofort auf Datenbank"/>
        <revision type="correction" title="Fehler-eMails jetzt mit richtigem Nachrichtentext"/>
    </change>

    <change date="2005-08-12" version="2.0.136" subversion_revision="3834">
        <revision type="correction" title="Fehler bei SQL-Insert für neue Task führt nicht mehr zur eMail-Flut"/>
    </change>

    <change date="2005-08-12" version="2.0.134" subversion_revision="3832">
        <revision type="modification" title="Änderung der &lt;run_time&gt; eines Auftrags wirkt nur am Beginn der Job-Kette">
            <description>
                <p>
                    Eine Änderung der &lt;run_time&gt; eines Auftrags wirkt nur,
                    wenn er am Anfang der Job-Kette steht und noch nicht ausgeführt wird.
                    Sonst wird die Wirkung verzögert, bis der Auftrag einen Endzustand erreicht hat.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-08-10" version="2.0.135" subversion_revision="3824">
        <revision type="new" title="Kommando &lt;modify_order&gt; kann &lt;run_time&gt; ändern">
            <description>
                <p>
                    In <scheduler_element name="modify_order"/> kann jetzt
                    <scheduler_element name="run_time"/> gesetzt werden.
                </p>
            </description>
        </revision>

        <revision type="new" title="Methode Job_chain.add_or_replace_order() neu">
            <description>
                <p>
                    <scheduler_method class="Job_chain" method="add_or_replace_order" java_signature="sos.spooler.Order" />
                    wirkt wie
                    <scheduler_method class="Job_chain" method="add_order" java_signature="sos.spooler.Order" />,
                    wenn die Job-Kette keinen Auftrag mit gleicher Kennung hat.
                </p>
                <p>
                    Hat die Job-Kette bereits einen Auftrag mit gleicher Kennung, dann wird dieser ersetzt.
                    Genauer: er wird aus der Job-Kette entfernt
                    (wie mit <scheduler_method class="Order" method="remove_from_job_chain"/>),
                    und der neue Auftrag wird hinzugefügt.
                </p>
                <p>
                    Falls der ersetzte Auftrag gerade von einer Task ausgeführt wird,
                    dann wartet der JobScheduler die Ausführung ab, bevor der neue Auftrag ausgeführt werden kann.
                </p>
                <p>
                    Der ersetzte Auftrag erscheint in der XML-Antwort als
                    <scheduler_element name="order" directory="xml/answer/" attribute="replaced" value="yes"/>.
                    Dies nur innerhalb von
                    <scheduler_element name="task" directory="xml/answer/"/>,
                    (nicht von <scheduler_element name="order_queue" directory="xml/answer/"/>),
                    denn der Auftrag ist nicht mehr in der Auftragswarteschlange.
                </p>
                <p>
                    Der neue, ersetzende Auftrag erscheint in der XML-Antwort als
                    <scheduler_element name="order" directory="xml/answer/" attribute="replacement" value="yes"/>.
                </p>
                <p>
                    Siehe auch <scheduler_element name="add_order" attribute="replace" value="yes"/>.
                </p>
            </description>
        </revision>

        <revision type="modification" title="Methode Order.remove_from_job_chain() geändert">
            <description>
                <p>
                    (<scheduler_method class="Order" method="remove_from_job_chain"/> wirkt wie
                    <scheduler_element name="remove_order" />.)
                </p>
                <p>
                    Wenn der Auftrag gerade von einer Task ausgeführt wird,
                    liefert die Eigenschaft <scheduler_method class="Order" property="job_chain" />
                    weiterhin die Job-Kette, aus der der Auftrag gerade entfernt wird.
                    Erst wenn die Ausführung beendet ist, liefert die Eigenschaft <code>null</code>
                    (außer der Auftrag ist wieder in eine Job-Kette eingetragen worden).
                    Damit bleibt die Eigenschaft <code>job_chain</code> während der Ausführung durch die Task stabil.
                </p>
                <p>
                    Der entfernte, aber noch ausgeführte Auftrag erscheint in der XML-Antwort als
                    <scheduler_element name="order" directory="xml/answer/" attribute="removed" value="yes"/>.
                    Dies nur innerhalb von
                    <scheduler_element name="task" directory="xml/answer/"/>,
                    (nicht von <scheduler_element name="order_queue" directory="xml/answer/"/>),
                    denn der Auftrag ist nicht mehr in der Auftragswarteschlange.
                </p>
            </description>
        </revision>

        <revision type="correction" title="Java-Methode sos.spooler.id() liefert auch Integer als String">
            <description>
                <p>
                    Statt einem Cast <code>(String)</code> wird jetzt <code>.toString()</code> gerufen,
                    so dass auch eine Auftragskennung,
                    die als Integer-Variant (o.dgl.) gespeichert ist,
                    in Java als String geliefert wird.
                    (Bisher gab es eine ClassCastException.)
                </p>
            </description>
        </revision>

        <revision type="correction" title="let_run_terminate_and_restart beendet Tasks im Zustand running_waiting_for_order">
            <description>
                <p>
                    Siehe <scheduler_element name="modify_spooler" attribute="cmd" value="let_run_terminate_and_restart"/>.
                </p>
            </description>
        </revision>

    </change>

    <change date="2005-08-04" version="2.0.134" subversion_revision="3818">
        <revision type="correction" title="Klasse sos.spooler.Mail unter Unix/Java funktionsfähig">
            <description>
                <p>
                    Unter Unix in Java war die Klasse sos.spooler.Mail nicht benutzbar (Fehlercode COM-80020009  DISP_E_EXCEPTION).
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-08-03" version="2.0.134" subversion_revision="3817">
        <revision type="correction" title="Order &lt;period single_start&gt; korrigiert">
            <description>
                <p>
                    Der nächste Single_start bei einem Auftrag mit
                    <scheduler_element name="period" attrbute="single_start"/>
                    wird jetzt korrekt ausgeführt.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-08-01" version="2.0.134" subversion_revision="3814">
        <revision type="new" title="Subprocess.termination_signal">
            <description>
                <p>
                    <scheduler_method class="Subprocess" property="termination_signal" />
                    liefert unter Unix 0 oder die Nummer des Signals, mit dem der Subprozess endete.
                </p>
                <p>
                    Unter Windows liefert die Methode 0.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-07-30" version="2.0.134" subversion_revision="3812">
        <revision type="new" title="delay_after_error erzeugt neue Task">
            <description>
                <p>
                    Eine Task, für die nach einem Fehler
                    <scheduler_method class="Job" property="delay_after_error" java_signature="int, double" access="write"/>
                    wirksam wird,
                    fügt der JobScheduler jetzt (mit neuer Kennung) erneut in die Task-Warteschlange ein.
                    Dabei werden die Task-Parameter übernommen.
                </p>
                <p>
                    Das gilt nicht für Auftragsjobs.
                    Für die wird wie bisher keine neue Task gestartet,
                    denn der Start wird durch den evtl. anstehenden Auftrag angestossen.
                </p>
            </description>
        </revision>

        <revision type="new" title="Neues Attribut delayed_after_error_task im Antwort-XML-Element &lt;task&gt;">
            <description>
                <p>
                    Siehe <scheduler_element directory="xml/answer/" name="task" attribute="delayed_after_error_task"/>.
                </p>
            </description>
        </revision>

        <revision type="new" title="Neue Attribute delay_after_error= und in_period= im Antwort-XML-Element &lt;job&gt;">
            <description>
                <p>
                    Siehe <scheduler_element directory="xml/answer/" name="job" attribute="delay_after_error"/>
                    <br/>
                    und <scheduler_element directory="xml/answer/" name="job" attribute="in_period"/>.
                </p>
            </description>
        </revision>

    </change>

    <change date="2005-07-04" version="2.0.133" subversion_revision="3786">
        <revision type="new" title="XSLT-Stylesheets für eMails">
            <description>
                <p>
                    <scheduler_method class="Mail" property="xslt_stylesheet_path" java_signature="java.lang.String" access="write"/>
                    setzt das XSLT-Stylesheet für eMails.
                </p>
            </description>
        </revision>

        <revision type="new" title="Neue Klasse Xslt_stylesheet">
            <description>
                <p>
                    <scheduler_method class="Spooler" method="create_xslt_stylesheet" />
                    liefert ein <scheduler_method class="Xslt_stylesheet" />.
                </p>
            </description>
        </revision>
    </change>

    <change date="2005-06-25" version="2.0.132" subversion_revision="3743">
        <revision type="new" title="&lt;order_queue&gt; liefert Attribut next_start_time"/>
    </change>

    <change date="2005-06-24" version="2.0.130" subversion_revision="3742">
        <revision type="correction" title="Fehlendes &lt;run_time&gt; wird wieder wie leeres &lt;run_time/&gt; interpretiert"/>
    </change>

    <change date="2005-06-08" version="2.0.129" subversion_revision="3696">
        <revision type="modification" title="Auftragsjob stoppt bei return false in spooler_init() oder spooler_open()">
            <description>
                <p>
                    Ein Auftragsjob, der
                    <code>false</code> in
                    <scheduler_method class="Job_impl" method="spooler_init"/>
                    oder
                    <scheduler_method class="Job_impl" method="spooler_open"/>
                    liefert,
                    wird mit Fehlermeldung gestoppt.
                </p>
                <p>
                    Das Stoppen kann mit
                    <scheduler_method class="Job" property="delay_after_error" java_signature="int, double" access="write"/>
                    verhindert werden.
                </p>
                <p>
                    Der Auftrag bleibt in der Auftragswarteschlange des Jobs
                    und wird beim nächsten erfolgreichen Start des Jobs verarbeitet.
                </p>
            </description>
        </revision>
    </change>

</changes>
